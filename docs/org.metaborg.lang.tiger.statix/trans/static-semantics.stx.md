---
title: static-semantics.stx
hide:
  - toc
---

# `static-semantics.stx`

:simple-github: [pdmosses/metaborg-tiger/org.metaborg.lang.tiger.statix/trans/static-semantics.stx]

[pdmosses/metaborg-tiger/org.metaborg.lang.tiger.statix/trans/static-semantics.stx]: https://github.com/pdmosses/metaborg-tiger/blob/master/org.metaborg.lang.tiger.statix/trans/static-semantics.stx "The source file on GitHub"

<div class="stx"><table class="highlighttable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240
241
242
243
244
245
246
247
248
249
250
251
252
253
254
255
256
257
258
259
260
261
262
263
264
265
266
267
268
269
270
271
272
273
274
275
276
277
278
279
280
281
282
283
284
285
286
287
288
289
290
291
292
293
294
295
296
297
298
299
300
301
302
303
304
305
306
307
308
309
310
311
312
313
314
315
316
317
318
319
320
321
322
323
324
325
326
327
328
329
330
331
332
333
334
335
336
337
338
339
340
341
342
343
344
345
346
347
348
349
350
351
352
353
354
355
356
357
358
359
360
361
362
363
364
365
366
367
368
369
370
371
372
373
374
375
376
377
378
379
380
381
382
383
384
385
386
387
388
389
390
391
392
393
394
395
396
397
398
399
400
401
402
403
404
405
406
407
408
409
410
411
412
413
414
415
416
417
418
419
420
421
422
423
424
425
426
427
428
429
430
431
432
433
434
435
436
437
438
439
440
441
442
443
444
445
446
447
448
449
450
451
452
453
454
455
456
457
458
459
460
461
462
463
464
465
466
467
468
469
470
471
472
473
474
475
476
477
478
479
480
481
482
483
484
485
486
487
488
489
490
491
492
493
494
495
496
497
498
499
500
501
502
503
504
505
506
507
508
509
510
511
512
513
514
515
516
517
518
519
520
521
522
523
524
525
526
527
528
529
530
531
532
533
534
535
</pre></div></td>
<td class="code"><pre><code><span class="keyword">module</span> <span id="static-semantics_1_8" title="Not referenced"><span class="token sort_Id">static-semantics</span></span>

<span class="keyword">imports</span>
  <a href="../../src-gen/statix/signatures/Tiger-sig.stx/#signatures/Tiger-sig_1_8" id="signatures/Tiger-sig_4_3" title="Defined at ../../src-gen/statix/signatures/Tiger-sig.stx line 1"><span class="token sort_Id">signatures/Tiger-sig</span></a>

<span class="keyword">rules</span> <span class="layout">// single-file entry point</span>

  <a href="#programOk_10_3" id="programOk_8_3" title="Referenced at line 10, 517"><span class="token sort_Id">programOk</span></a> <span class="operator">:</span> <span class="cons_SimpleSort"><a href="../../src-gen/statix/signatures/Tiger-sig.stx/#Module_20_5" id="Module_8_15" title="Defined at ../../src-gen/statix/signatures/Tiger-sig.stx line 20"><span class="token sort_Id">Module</span></a></span>

  <a href="#programOk_8_3" id="programOk_10_3" title="Defined at line 8"><span class="token sort_Id">programOk</span></a><span class="operator">(</span><span class="cons_Op"><a href="../../src-gen/statix/signatures/Tiger-sig.stx/#Mod_28_5" id="Mod_10_13" title="Defined at ../../src-gen/statix/signatures/Tiger-sig.stx line 28"><span class="token sort_Id">Mod</span></a><span class="operator">(</span><span class="cons_Var"><a href="#e_12_18" id="e_10_17" title="Referenced at line 12"><span class="token sort_Id">e</span></a></span><span class="operator">)</span></span><span class="operator">)</span> <span class="operator">:-</span> <span class="operator">{</span><span class="cons_Var"><a href="#s_11_9" id="s_10_25" title="Referenced at line 11, 12"><span class="token sort_Id">s</span></a></span> <span class="cons_Var"><a href="#T_12_24" id="T_10_27" title="Referenced at line 12"><span class="token sort_Id">T</span></a></span><span class="operator">}</span>
    <span class="keyword">new</span> <span class="cons_Var"><a href="#s_10_25" id="s_11_9" title="Defined at line 10"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <a href="#init_491_3" id="init_11_12" title="Defined at line 491"><span class="token sort_Id">init</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_10_25" id="s_11_17" title="Defined at line 10"><span class="token sort_Id">s</span></a></span><span class="operator">),</span>
    <a href="#typeOfExp_160_3" id="typeOfExp_12_5" title="Defined at line 160"><span class="token sort_Id">typeOfExp</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_10_25" id="s_12_15" title="Defined at line 10"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#e_10_17" id="e_12_18" title="Defined at line 10"><span class="token sort_Id">e</span></a></span><span class="operator">)</span> <span class="operator">==</span> <span class="cons_Var"><a href="#T_10_27" id="T_12_24" title="Defined at line 10"><span class="token sort_Id">T</span></a></span><span class="operator">.</span>

<span class="keyword">rules</span> <span class="layout">// multi-file entry point</span>

<span class="layout">//  projectOk : scope</span>
<span class="layout">//  projectOk(s).</span>
<span class="layout">//  fileOk : scope * Start</span>
<span class="layout">//  fileOk(s, Empty()).</span>

<span class="keyword">signature</span> <span class="layout">// variables</span>

  <span class="keyword">sorts</span>
    <span class="cons_SortAlias"><a href="#VARS_50_30" id="VARS_24_5" title="Referenced at line 50"><span class="token sort_Id">VARS</span></a>  <span class="operator">=</span> <span class="keyword">list</span><span class="operator">((</span><span class="cons_PathSort"><span class="keyword">path</span></span> <span class="operator">*</span> <span class="operator">(</span><span class="cons_SimpleSort"><a href="../../src-gen/statix/signatures/Base-sig.stx/#ID_13_5" id="ID_24_27" title="Defined at ../../src-gen/statix/signatures/Base-sig.stx line 13"><span class="token sort_Id">ID</span></a></span> <span class="operator">*</span> <span class="cons_SimpleSort"><a href="#TYPE_122_9" id="TYPE_24_32" title="Defined at line 122"><span class="token sort_Id">TYPE</span></a></span><span class="operator">)))</span></span>
    <span class="cons_SortAlias"><a href="#TYPES_74_31" id="TYPES_25_5" title="Referenced at line 74"><span class="token sort_Id">TYPES</span></a> <span class="operator">=</span> <span class="keyword">list</span><span class="operator">((</span><span class="cons_PathSort"><span class="keyword">path</span></span> <span class="operator">*</span> <span class="operator">(</span><span class="cons_SimpleSort"><a href="../../src-gen/statix/signatures/Base-sig.stx/#ID_13_5" id="ID_25_27" title="Defined at ../../src-gen/statix/signatures/Base-sig.stx line 13"><span class="token sort_Id">ID</span></a></span> <span class="operator">*</span> <span class="cons_SimpleSort"><a href="#TYPE_122_9" id="TYPE_25_32" title="Defined at line 122"><span class="token sort_Id">TYPE</span></a></span><span class="operator">)))</span></span>

  <span class="keyword">relations</span>
    <span class="cons_Label"><a href="#var_54_6" id="var_28_5" title="Referenced at line 54, 60"><span class="token sort_Id">var</span></a></span>   <span class="operator">:</span> <span class="cons_SimpleSort"><a href="../../src-gen/statix/signatures/Base-sig.stx/#ID_13_5" id="ID_28_13" title="Defined at ../../src-gen/statix/signatures/Base-sig.stx line 13"><span class="token sort_Id">ID</span></a></span> <span class="operator">-&gt;</span> <span class="cons_SimpleSort"><a href="#TYPE_122_9" id="TYPE_28_19" title="Defined at line 122"><span class="token sort_Id">TYPE</span></a></span>
    <span class="cons_Label"><a href="#type_78_6" id="type_29_5" title="Referenced at line 78, 84"><span class="token sort_Id">type</span></a></span>  <span class="operator">:</span> <span class="cons_SimpleSort"><a href="../../src-gen/statix/signatures/Base-sig.stx/#ID_13_5" id="ID_29_13" title="Defined at ../../src-gen/statix/signatures/Base-sig.stx line 13"><span class="token sort_Id">ID</span></a></span> <span class="operator">-&gt;</span> <span class="cons_SimpleSort"><a href="#TYPE_122_9" id="TYPE_29_19" title="Defined at line 122"><span class="token sort_Id">TYPE</span></a></span>

  <span class="keyword">name-resolution</span>
    <span class="keyword">labels</span> <span class="cons_Label"><a href="#P_61_14" id="P_32_12" title="Referenced at line 61, 63, 85, 87, 105, 107, 112, 113, 172, 183, 189, 198, 239, 245, 344, 351, 360, 361"><span class="token sort_Id">P</span></a></span>

<span class="keyword">signature</span> <span class="layout">// records</span>

  <span class="keyword">sorts</span>
    <span class="cons_SortAlias"><a href="#FIELDS_93_44" id="FIELDS_37_5" title="Referenced at line 93, 94"><span class="token sort_Id">FIELDS</span></a> <span class="operator">=</span> <span class="keyword">list</span><span class="operator">((</span><span class="cons_PathSort"><span class="keyword">path</span></span> <span class="operator">*</span> <span class="operator">(</span><span class="cons_SimpleSort"><a href="../../src-gen/statix/signatures/Base-sig.stx/#ID_13_5" id="ID_37_28" title="Defined at ../../src-gen/statix/signatures/Base-sig.stx line 13"><span class="token sort_Id">ID</span></a></span> <span class="operator">*</span> <span class="cons_SimpleSort"><a href="#TYPE_122_9" id="TYPE_37_33" title="Defined at line 122"><span class="token sort_Id">TYPE</span></a></span><span class="operator">)))</span></span>

  <span class="keyword">relations</span>
    <span class="cons_Label"><a href="#field_98_6" id="field_40_5" title="Referenced at line 98, 104, 111"><span class="token sort_Id">field</span></a></span><span class="operator">:</span> <span class="cons_SimpleSort"><a href="../../src-gen/statix/signatures/Base-sig.stx/#ID_13_5" id="ID_40_12" title="Defined at ../../src-gen/statix/signatures/Base-sig.stx line 13"><span class="token sort_Id">ID</span></a></span> <span class="operator">-&gt;</span> <span class="cons_SimpleSort"><a href="#TYPE_122_9" id="TYPE_40_18" title="Defined at line 122"><span class="token sort_Id">TYPE</span></a></span>

<span class="keyword">signature</span> <span class="layout">// control-flow</span>

  <span class="keyword">relations</span>
    <span class="cons_Label"><a href="#loop_345_6" id="loop_45_5" title="Referenced at line 345, 353, 359"><span class="token sort_Id">loop</span></a></span><span class="operator">:</span>

<span class="keyword">rules</span> <span class="layout">// variable binding</span>

  <a href="#declareVar_53_3" id="declareVar_49_3" title="Referenced at line 53, 241, 248, 258, 277, 282, 352, 497, 498, 499, 500, 501, 502, 503, 504, 505, 506, 507, 510, 511"><span class="token sort_Id">declareVar</span></a> <span class="operator">:</span> <span class="cons_ScopeSort"><span class="keyword">scope</span></span> <span class="operator">*</span> <span class="cons_SimpleSort"><a href="../../src-gen/statix/signatures/Base-sig.stx/#ID_13_5" id="ID_49_24" title="Defined at ../../src-gen/statix/signatures/Base-sig.stx line 13"><span class="token sort_Id">ID</span></a></span> <span class="operator">*</span>  <span class="cons_SimpleSort"><a href="#TYPE_122_9" id="TYPE_49_30" title="Defined at line 122"><span class="token sort_Id">TYPE</span></a></span>
  <a href="#lookupVar_56_5" id="lookupVar_50_3" title="Referenced at line 56, 59, 68"><span class="token sort_Id">lookupVar</span></a>  <span class="operator">:</span> <span class="cons_ScopeSort"><span class="keyword">scope</span></span> <span class="operator">*</span> <span class="cons_SimpleSort"><a href="../../src-gen/statix/signatures/Base-sig.stx/#ID_13_5" id="ID_50_24" title="Defined at ../../src-gen/statix/signatures/Base-sig.stx line 13"><span class="token sort_Id">ID</span></a></span> <span class="operator">-&gt;</span> <span class="cons_SimpleSort"><a href="#VARS_24_5" id="VARS_50_30" title="Defined at line 24"><span class="token sort_Id">VARS</span></a></span>
  <a href="#typeOfVar_66_3" id="typeOfVar_51_3" title="Referenced at line 66, 263, 314, 318"><span class="token sort_Id">typeOfVar</span></a>  <span class="operator">:</span> <span class="cons_ScopeSort"><span class="keyword">scope</span></span> <span class="operator">*</span> <span class="cons_SimpleSort"><a href="../../src-gen/statix/signatures/Base-sig.stx/#ID_13_5" id="ID_51_24" title="Defined at ../../src-gen/statix/signatures/Base-sig.stx line 13"><span class="token sort_Id">ID</span></a></span> <span class="operator">-&gt;</span> <span class="cons_SimpleSort"><a href="#TYPE_122_9" id="TYPE_51_30" title="Defined at line 122"><span class="token sort_Id">TYPE</span></a></span>

  <a href="#declareVar_49_3" id="declareVar_53_3" title="Defined at line 49"><span class="token sort_Id">declareVar</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_54_19" id="s_53_14" title="Referenced at line 54, 56"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#x_54_10" id="x_53_17" title="Referenced at line 54, 56, 57"><span class="token sort_Id">x</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#T_54_13" id="T_53_20" title="Referenced at line 54"><span class="token sort_Id">T</span></a></span><span class="operator">)</span> <span class="operator">:-</span>
    <span class="operator">!</span><span class="cons_Label"><a href="#var_28_5" id="var_54_6" title="Defined at line 28"><span class="token sort_Id">var</span></a></span><span class="operator">[</span><span class="cons_Var"><a href="#x_53_17" id="x_54_10" title="Defined at line 53"><span class="token sort_Id">x</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#T_53_20" id="T_54_13" title="Defined at line 53"><span class="token sort_Id">T</span></a></span><span class="operator">]</span> <span class="keyword">in</span> <span class="cons_Var"><a href="#s_53_14" id="s_54_19" title="Defined at line 53"><span class="token sort_Id">s</span></a></span><span class="operator">,</span>
    <span class="layout">// declaration is distinct</span>
    <a href="#lookupVar_50_3" id="lookupVar_56_5" title="Defined at line 50"><span class="token sort_Id">lookupVar</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_53_14" id="s_56_15" title="Defined at line 53"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#x_53_17" id="x_56_18" title="Defined at line 53"><span class="token sort_Id">x</span></a></span><span class="operator">)</span> <span class="operator">==</span> <span class="operator">[_],</span>
    <span class="operator">@</span><span class="cons_Var"><a href="#x_53_17" id="x_57_6" title="Defined at line 53"><span class="token sort_Id">x</span></a></span><span class="operator">.</span>decl <span class="operator">:=</span> <span class="cons_Var"><a href="#x_53_17" id="x_57_16" title="Defined at line 53"><span class="token sort_Id">x</span></a></span><span class="operator">.</span>

  <a href="#lookupVar_50_3" id="lookupVar_59_3" title="Defined at line 50"><span class="token sort_Id">lookupVar</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_64_11" id="s_59_13" title="Referenced at line 64"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#x_62_27" id="x_59_16" title="Referenced at line 62"><span class="token sort_Id">x</span></a></span><span class="operator">)</span> <span class="operator">=</span> <span class="cons_Var"><a href="#VARs_64_17" id="VARs_59_21" title="Referenced at line 64"><span class="token sort_Id">VARs</span></a></span> <span class="operator">:-</span>
    <span class="keyword">query</span> <span class="cons_Label"><a href="#var_28_5" id="var_60_11" title="Defined at line 28"><span class="token sort_Id">var</span></a></span>
      <span class="keyword">filter</span> <span class="cons_Closure"><span class="cons_Label"><a href="#P_32_12" id="P_61_14" title="Defined at line 32"><span class="token sort_Id">P</span></a></span><span class="operator">*</span></span>
        <span class="keyword">and</span> <span class="operator">{</span> <span class="cons_Var"><a href="#x'_62_21" id="x'_62_15" title="Referenced at line 62"><span class="token sort_Id">x'</span></a></span> <span class="operator">:-</span> <span class="cons_Var"><a href="#x'_62_15" id="x'_62_21" title="Defined at line 62"><span class="token sort_Id">x'</span></a></span> <span class="operator">==</span> <span class="cons_Var"><a href="#x_59_16" id="x_62_27" title="Defined at line 59"><span class="token sort_Id">x</span></a></span> <span class="operator">}</span>
      <span class="keyword">min</span> <span class="operator">$</span> <span class="operator">&lt;</span> <span class="cons_Label"><a href="#P_32_12" id="P_63_15" title="Defined at line 32"><span class="token sort_Id">P</span></a></span>
       <span class="keyword">in</span> <span class="cons_Var"><a href="#s_59_13" id="s_64_11" title="Defined at line 59"><span class="token sort_Id">s</span></a></span> <span class="operator">|-&gt;</span> <span class="cons_Var"><a href="#VARs_59_21" id="VARs_64_17" title="Defined at line 59"><span class="token sort_Id">VARs</span></a></span><span class="operator">.</span>

  <a href="#typeOfVar_51_3" id="typeOfVar_66_3" title="Defined at line 51"><span class="token sort_Id">typeOfVar</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_68_15" id="s_66_13" title="Referenced at line 68"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#x_68_18" id="x_66_16" title="Referenced at line 68, 69"><span class="token sort_Id">x</span></a></span><span class="operator">)</span> <span class="operator">=</span> <span class="cons_Var"><a href="#T_68_34" id="T_66_21" title="Referenced at line 68"><span class="token sort_Id">T</span></a></span> <span class="operator">:-</span> <span class="operator">{</span><span class="cons_Var"><a href="#x'_68_30" id="x'_66_27" title="Referenced at line 68, 69"><span class="token sort_Id">x'</span></a></span><span class="operator">}</span>
    <span class="layout">// permissive lookup to cope with double declaration</span>
    <a href="#lookupVar_50_3" id="lookupVar_68_5" title="Defined at line 50"><span class="token sort_Id">lookupVar</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_66_13" id="s_68_15" title="Defined at line 66"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#x_66_16" id="x_68_18" title="Defined at line 66"><span class="token sort_Id">x</span></a></span><span class="operator">)</span> <span class="operator">==</span> <span class="operator">[(_,</span> <span class="operator">(</span><span class="cons_Var"><a href="#x'_66_27" id="x'_68_30" title="Defined at line 66"><span class="token sort_Id">x'</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#T_66_21" id="T_68_34" title="Defined at line 66"><span class="token sort_Id">T</span></a></span><span class="operator">))</span> <span class="operator">|_],</span>
    <span class="operator">@</span><span class="cons_Var"><a href="#x_66_16" id="x_69_6" title="Defined at line 66"><span class="token sort_Id">x</span></a></span><span class="operator">.</span><span class="keyword">ref</span> <span class="operator">:=</span> <span class="cons_Var"><a href="#x'_66_27" id="x'_69_15" title="Defined at line 66"><span class="token sort_Id">x'</span></a></span><span class="operator">.</span>

<span class="keyword">rules</span> <span class="layout">// type binding</span>

  <a href="#declareType_77_3" id="declareType_73_3" title="Referenced at line 77, 216, 494, 495"><span class="token sort_Id">declareType</span></a> <span class="operator">:</span> <span class="cons_ScopeSort"><span class="keyword">scope</span></span> <span class="operator">*</span> <span class="cons_SimpleSort"><a href="../../src-gen/statix/signatures/Base-sig.stx/#ID_13_5" id="ID_73_25" title="Defined at ../../src-gen/statix/signatures/Base-sig.stx line 13"><span class="token sort_Id">ID</span></a></span> <span class="operator">*</span> <span class="cons_SimpleSort"><a href="#TYPE_122_9" id="TYPE_73_30" title="Defined at line 122"><span class="token sort_Id">TYPE</span></a></span>
  <a href="#lookupType_80_5" id="lookupType_74_3" title="Referenced at line 80, 83, 226"><span class="token sort_Id">lookupType</span></a>  <span class="operator">:</span> <span class="cons_ScopeSort"><span class="keyword">scope</span></span> <span class="operator">*</span> <span class="cons_SimpleSort"><a href="../../src-gen/statix/signatures/Base-sig.stx/#ID_13_5" id="ID_74_25" title="Defined at ../../src-gen/statix/signatures/Base-sig.stx line 13"><span class="token sort_Id">ID</span></a></span> <span class="operator">-&gt;</span> <span class="cons_SimpleSort"><a href="#TYPES_25_5" id="TYPES_74_31" title="Defined at line 25"><span class="token sort_Id">TYPES</span></a></span>
  <span class="layout">// no `typeOfType: scope * ID -&gt; TYPE` due to name clash</span>

  <a href="#declareType_73_3" id="declareType_77_3" title="Defined at line 73"><span class="token sort_Id">declareType</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_78_20" id="s_77_15" title="Referenced at line 78, 80"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#x_78_11" id="x_77_18" title="Referenced at line 78, 80, 81"><span class="token sort_Id">x</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#T_78_14" id="T_77_21" title="Referenced at line 78"><span class="token sort_Id">T</span></a></span><span class="operator">)</span> <span class="operator">:-</span>
    <span class="operator">!</span><span class="cons_Label"><a href="#type_29_5" id="type_78_6" title="Defined at line 29"><span class="token sort_Id">type</span></a></span><span class="operator">[</span><span class="cons_Var"><a href="#x_77_18" id="x_78_11" title="Defined at line 77"><span class="token sort_Id">x</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#T_77_21" id="T_78_14" title="Defined at line 77"><span class="token sort_Id">T</span></a></span><span class="operator">]</span> <span class="keyword">in</span> <span class="cons_Var"><a href="#s_77_15" id="s_78_20" title="Defined at line 77"><span class="token sort_Id">s</span></a></span><span class="operator">,</span>
    <span class="layout">// declaration is distinct</span>
    <a href="#lookupType_74_3" id="lookupType_80_5" title="Defined at line 74"><span class="token sort_Id">lookupType</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_77_15" id="s_80_16" title="Defined at line 77"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#x_77_18" id="x_80_19" title="Defined at line 77"><span class="token sort_Id">x</span></a></span><span class="operator">)</span> <span class="operator">==</span> <span class="operator">[_],</span>
    <span class="operator">@</span><span class="cons_Var"><a href="#x_77_18" id="x_81_6" title="Defined at line 77"><span class="token sort_Id">x</span></a></span><span class="operator">.</span>decl <span class="operator">:=</span> <span class="cons_Var"><a href="#x_77_18" id="x_81_16" title="Defined at line 77"><span class="token sort_Id">x</span></a></span><span class="operator">.</span>

  <a href="#lookupType_74_3" id="lookupType_83_3" title="Defined at line 74"><span class="token sort_Id">lookupType</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_88_11" id="s_83_14" title="Referenced at line 88"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#x_86_27" id="x_83_17" title="Referenced at line 86"><span class="token sort_Id">x</span></a></span><span class="operator">)</span> <span class="operator">=</span> <span class="cons_Var"><a href="#TYPES_88_17" id="TYPES_83_22" title="Referenced at line 88"><span class="token sort_Id">TYPES</span></a></span> <span class="operator">:-</span>
    <span class="keyword">query</span> <span class="cons_Label"><a href="#type_29_5" id="type_84_11" title="Defined at line 29"><span class="token sort_Id">type</span></a></span>
      <span class="keyword">filter</span> <span class="cons_Closure"><span class="cons_Label"><a href="#P_32_12" id="P_85_14" title="Defined at line 32"><span class="token sort_Id">P</span></a></span><span class="operator">*</span></span>
        <span class="keyword">and</span> <span class="operator">{</span> <span class="cons_Var"><a href="#x'_86_21" id="x'_86_15" title="Referenced at line 86"><span class="token sort_Id">x'</span></a></span> <span class="operator">:-</span> <span class="cons_Var"><a href="#x'_86_15" id="x'_86_21" title="Defined at line 86"><span class="token sort_Id">x'</span></a></span> <span class="operator">==</span> <span class="cons_Var"><a href="#x_83_17" id="x_86_27" title="Defined at line 83"><span class="token sort_Id">x</span></a></span> <span class="operator">}</span>
      <span class="keyword">min</span> <span class="operator">$</span> <span class="operator">&lt;</span> <span class="cons_Label"><a href="#P_32_12" id="P_87_15" title="Defined at line 32"><span class="token sort_Id">P</span></a></span>
       <span class="keyword">in</span> <span class="cons_Var"><a href="#s_83_14" id="s_88_11" title="Defined at line 83"><span class="token sort_Id">s</span></a></span> <span class="operator">|-&gt;</span> <span class="cons_Var"><a href="#TYPES_83_22" id="TYPES_88_17" title="Defined at line 83"><span class="token sort_Id">TYPES</span></a></span><span class="operator">.</span>

<span class="keyword">rules</span> <span class="layout">// field binding</span>

  <a href="#declareField_97_3" id="declareField_92_3" title="Referenced at line 97, 438, 467"><span class="token sort_Id">declareField</span></a>      <span class="operator">:</span> <span class="cons_ScopeSort"><span class="keyword">scope</span></span> <span class="operator">*</span> <span class="cons_SimpleSort"><a href="../../src-gen/statix/signatures/Base-sig.stx/#ID_13_5" id="ID_92_31" title="Defined at ../../src-gen/statix/signatures/Base-sig.stx line 13"><span class="token sort_Id">ID</span></a></span> <span class="operator">*</span> <span class="cons_SimpleSort"><a href="#TYPE_122_9" id="TYPE_92_36" title="Defined at line 122"><span class="token sort_Id">TYPE</span></a></span>
  <a href="#lookupField_100_5" id="lookupField_93_3" title="Referenced at line 100, 103, 118, 474"><span class="token sort_Id">lookupField</span></a>       <span class="operator">:</span> <span class="cons_ScopeSort"><span class="keyword">scope</span></span> <span class="operator">*</span> <span class="cons_SimpleSort"><a href="../../src-gen/statix/signatures/Base-sig.stx/#ID_13_5" id="ID_93_31" title="Defined at ../../src-gen/statix/signatures/Base-sig.stx line 13"><span class="token sort_Id">ID</span></a></span>        <span class="operator">-&gt;</span> <span class="cons_SimpleSort"><a href="#FIELDS_37_5" id="FIELDS_93_44" title="Defined at line 37"><span class="token sort_Id">FIELDS</span></a></span>
  <a href="#lookupAllFields_110_3" id="lookupAllFields_94_3" title="Referenced at line 110, 450"><span class="token sort_Id">lookupAllFields</span></a>   <span class="operator">:</span> <span class="cons_ScopeSort"><span class="keyword">scope</span></span>             <span class="operator">-&gt;</span> <span class="cons_SimpleSort"><a href="#FIELDS_37_5" id="FIELDS_94_44" title="Defined at line 37"><span class="token sort_Id">FIELDS</span></a></span>
  <a href="#typeOfField_116_3" id="typeOfField_95_3" title="Referenced at line 116, 465, 482"><span class="token sort_Id">typeOfField</span></a>       <span class="operator">:</span> <span class="cons_ScopeSort"><span class="keyword">scope</span></span> <span class="operator">*</span> <span class="cons_SimpleSort"><a href="../../src-gen/statix/signatures/Base-sig.stx/#ID_13_5" id="ID_95_31" title="Defined at ../../src-gen/statix/signatures/Base-sig.stx line 13"><span class="token sort_Id">ID</span></a></span>        <span class="operator">-&gt;</span> <span class="cons_SimpleSort"><a href="#TYPE_122_9" id="TYPE_95_44" title="Defined at line 122"><span class="token sort_Id">TYPE</span></a></span>

  <a href="#declareField_92_3" id="declareField_97_3" title="Defined at line 92"><span class="token sort_Id">declareField</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_98_21" id="s_97_16" title="Referenced at line 98, 100"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#x_98_12" id="x_97_19" title="Referenced at line 98, 100, 101"><span class="token sort_Id">x</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#T_98_15" id="T_97_22" title="Referenced at line 98"><span class="token sort_Id">T</span></a></span><span class="operator">)</span> <span class="operator">:-</span>
    <span class="operator">!</span><span class="cons_Label"><a href="#field_40_5" id="field_98_6" title="Defined at line 40"><span class="token sort_Id">field</span></a></span><span class="operator">[</span><span class="cons_Var"><a href="#x_97_19" id="x_98_12" title="Defined at line 97"><span class="token sort_Id">x</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#T_97_22" id="T_98_15" title="Defined at line 97"><span class="token sort_Id">T</span></a></span><span class="operator">]</span> <span class="keyword">in</span> <span class="cons_Var"><a href="#s_97_16" id="s_98_21" title="Defined at line 97"><span class="token sort_Id">s</span></a></span><span class="operator">,</span>
    <span class="layout">// declaration is distinct</span>
    <a href="#lookupField_93_3" id="lookupField_100_5" title="Defined at line 93"><span class="token sort_Id">lookupField</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_97_16" id="s_100_17" title="Defined at line 97"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#x_97_19" id="x_100_20" title="Defined at line 97"><span class="token sort_Id">x</span></a></span><span class="operator">)</span> <span class="operator">==</span> <span class="operator">[_],</span>
    <span class="operator">@</span><span class="cons_Var"><a href="#x_97_19" id="x_101_6" title="Defined at line 97"><span class="token sort_Id">x</span></a></span><span class="operator">.</span>decl <span class="operator">:=</span> <span class="cons_Var"><a href="#x_97_19" id="x_101_16" title="Defined at line 97"><span class="token sort_Id">x</span></a></span><span class="operator">.</span>

  <a href="#lookupField_93_3" id="lookupField_103_3" title="Defined at line 93"><span class="token sort_Id">lookupField</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_108_10" id="s_103_15" title="Referenced at line 108"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#x_106_27" id="x_103_18" title="Referenced at line 106"><span class="token sort_Id">x</span></a></span><span class="operator">)</span> <span class="operator">=</span> <span class="cons_Var"><a href="#FLDs_108_16" id="FLDs_103_23" title="Referenced at line 108"><span class="token sort_Id">FLDs</span></a></span> <span class="operator">:-</span>
    <span class="keyword">query</span> <span class="cons_Label"><a href="#field_40_5" id="field_104_11" title="Defined at line 40"><span class="token sort_Id">field</span></a></span>
      <span class="keyword">filter</span> <span class="cons_Closure"><span class="cons_Label"><a href="#P_32_12" id="P_105_14" title="Defined at line 32"><span class="token sort_Id">P</span></a></span><span class="operator">*</span></span>
        <span class="keyword">and</span> <span class="operator">{</span> <span class="cons_Var"><a href="#x'_106_21" id="x'_106_15" title="Referenced at line 106"><span class="token sort_Id">x'</span></a></span> <span class="operator">:-</span> <span class="cons_Var"><a href="#x'_106_15" id="x'_106_21" title="Defined at line 106"><span class="token sort_Id">x'</span></a></span> <span class="operator">==</span> <span class="cons_Var"><a href="#x_103_18" id="x_106_27" title="Defined at line 103"><span class="token sort_Id">x</span></a></span> <span class="operator">}</span>
      <span class="keyword">min</span> <span class="operator">$</span> <span class="operator">&lt;</span> <span class="cons_Label"><a href="#P_32_12" id="P_107_15" title="Defined at line 32"><span class="token sort_Id">P</span></a></span>
      <span class="keyword">in</span> <span class="cons_Var"><a href="#s_103_15" id="s_108_10" title="Defined at line 103"><span class="token sort_Id">s</span></a></span> <span class="operator">|-&gt;</span> <span class="cons_Var"><a href="#FLDs_103_23" id="FLDs_108_16" title="Defined at line 103"><span class="token sort_Id">FLDs</span></a></span><span class="operator">.</span>

  <a href="#lookupAllFields_94_3" id="lookupAllFields_110_3" title="Defined at line 94"><span class="token sort_Id">lookupAllFields</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_114_10" id="s_110_19" title="Referenced at line 114"><span class="token sort_Id">s</span></a></span><span class="operator">)</span> <span class="operator">=</span> <span class="cons_Var"><a href="#FLDs_114_16" id="FLDs_110_24" title="Referenced at line 114"><span class="token sort_Id">FLDs</span></a></span> <span class="operator">:-</span>
    <span class="keyword">query</span> <span class="cons_Label"><a href="#field_40_5" id="field_111_11" title="Defined at line 40"><span class="token sort_Id">field</span></a></span>
      <span class="keyword">filter</span> <span class="cons_Closure"><span class="cons_Label"><a href="#P_32_12" id="P_112_14" title="Defined at line 32"><span class="token sort_Id">P</span></a></span><span class="operator">*</span></span>
      <span class="keyword">min</span> <span class="operator">$</span> <span class="operator">&lt;</span> <span class="cons_Label"><a href="#P_32_12" id="P_113_15" title="Defined at line 32"><span class="token sort_Id">P</span></a></span>
      <span class="keyword">in</span> <span class="cons_Var"><a href="#s_110_19" id="s_114_10" title="Defined at line 110"><span class="token sort_Id">s</span></a></span> <span class="operator">|-&gt;</span> <span class="cons_Var"><a href="#FLDs_110_24" id="FLDs_114_16" title="Defined at line 110"><span class="token sort_Id">FLDs</span></a></span><span class="operator">.</span>

  <a href="#typeOfField_95_3" id="typeOfField_116_3" title="Defined at line 95"><span class="token sort_Id">typeOfField</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_118_17" id="s_116_15" title="Referenced at line 118"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#x_118_20" id="x_116_18" title="Referenced at line 118, 119"><span class="token sort_Id">x</span></a></span><span class="operator">)</span> <span class="operator">=</span> <span class="cons_Var"><a href="#T_118_35" id="T_116_23" title="Referenced at line 118"><span class="token sort_Id">T</span></a></span> <span class="operator">:-</span> <span class="operator">{</span><span class="cons_Var"><a href="#d_118_32" id="d_116_29" title="Referenced at line 118, 119"><span class="token sort_Id">d</span></a></span><span class="operator">}</span>
    <span class="layout">// permissive lookup to cope with double declaration</span>
    <a href="#lookupField_93_3" id="lookupField_118_5" title="Defined at line 93"><span class="token sort_Id">lookupField</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_116_15" id="s_118_17" title="Defined at line 116"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#x_116_18" id="x_118_20" title="Defined at line 116"><span class="token sort_Id">x</span></a></span><span class="operator">)</span> <span class="operator">==</span> <span class="operator">[(_,</span> <span class="operator">(</span><span class="cons_Var"><a href="#d_116_29" id="d_118_32" title="Defined at line 116"><span class="token sort_Id">d</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#T_116_23" id="T_118_35" title="Defined at line 116"><span class="token sort_Id">T</span></a></span><span class="operator">))</span> <span class="operator">|</span> <span class="operator">_],</span>
    <span class="operator">@</span><span class="cons_Var"><a href="#x_116_18" id="x_119_6" title="Defined at line 116"><span class="token sort_Id">x</span></a></span><span class="operator">.</span><span class="keyword">ref</span> <span class="operator">:=</span> <span class="cons_Var"><a href="#d_116_29" id="d_119_15" title="Defined at line 116"><span class="token sort_Id">d</span></a></span><span class="operator">.</span>

<span class="keyword">signature</span>
  <span class="keyword">sorts</span> <span class="cons_SortDecl"><a href="#TYPE_24_32" id="TYPE_122_9" title="Referenced at line 24, 25, 28, 29, 37, 40, 49, 51, 73, 92, 95, 124, 125, 126, 127, 128, 129, 130, 132, 138, 148, 154, 160, 164, 165, 222, 253, 455, 470"><span class="token sort_Id">TYPE</span></a></span>
  <span class="keyword">constructors</span>
    <span class="cons_OpDecl"><a href="#UNIT_241_30" id="UNIT_124_5" title="Referenced at line 241, 242, 306, 322, 339, 341, 343, 347, 349, 356, 358, 497, 504, 506, 507, 510, 511"><span class="token sort_Id">UNIT</span></a>   <span class="operator">:</span> <span class="cons_SimpleSort"><a href="#TYPE_122_9" id="TYPE_124_14" title="Defined at line 122"><span class="token sort_Id">TYPE</span></a></span></span>
    <span class="cons_OpDecl"><a href="#INT_294_25" id="INT_125_5" title="Referenced at line 294, 302, 334, 340, 346, 352, 354, 355, 366, 371, 372, 374, 375, 376, 378, 379, 380, 382, 383, 384, 386, 387, 388, 390, 396, 402, 403, 404, 407, 408, 409, 411, 412, 413, 415, 416, 417, 419, 420, 421, 423, 424, 425, 494, 498, 499, 500, 501, 503, 504, 507"><span class="token sort_Id">INT</span></a>    <span class="operator">:</span> <span class="cons_SimpleSort"><a href="#TYPE_122_9" id="TYPE_125_14" title="Defined at line 122"><span class="token sort_Id">TYPE</span></a></span></span>
    <span class="cons_OpDecl"><a href="#STRING_486_29" id="STRING_126_5" title="Referenced at line 486, 495, 497, 498, 499, 500, 501, 502, 505"><span class="token sort_Id">STRING</span></a> <span class="operator">:</span> <span class="cons_SimpleSort"><a href="#TYPE_122_9" id="TYPE_126_14" title="Defined at line 122"><span class="token sort_Id">TYPE</span></a></span></span>
    <span class="cons_OpDecl"><a href="#NIL_136_11" id="NIL_127_5" title="Referenced at line 136, 151, 152, 156, 281, 442"><span class="token sort_Id">NIL</span></a>    <span class="operator">:</span> <span class="cons_SimpleSort"><a href="#TYPE_122_9" id="TYPE_127_14" title="Defined at line 122"><span class="token sort_Id">TYPE</span></a></span></span>
    <span class="cons_OpDecl"><a href="#RECORD_136_18" id="RECORD_128_5" title="Referenced at line 136, 151, 152, 429, 446, 447, 481"><span class="token sort_Id">RECORD</span></a> <span class="operator">:</span> <span class="cons_ScopeSort"><span class="keyword">scope</span></span> <span class="operator">-&gt;</span> <span class="cons_SimpleSort"><a href="#TYPE_122_9" id="TYPE_128_23" title="Defined at line 122"><span class="token sort_Id">TYPE</span></a></span></span>
    <span class="cons_OpDecl"><a href="#ARRAY_286_31" id="ARRAY_129_5" title="Referenced at line 286, 292, 293, 301"><span class="token sort_Id">ARRAY</span></a>  <span class="operator">:</span> <span class="cons_SimpleSort"><a href="#TYPE_122_9" id="TYPE_129_14" title="Defined at line 122"><span class="token sort_Id">TYPE</span></a></span> <span class="operator">*</span> <span class="cons_ScopeSort"><span class="keyword">scope</span></span> <span class="operator">-&gt;</span> <span class="cons_SimpleSort"><a href="#TYPE_122_9" id="TYPE_129_30" title="Defined at line 122"><span class="token sort_Id">TYPE</span></a></span></span>
    <span class="cons_OpDecl"><a href="#FUN_241_22" id="FUN_130_5" title="Referenced at line 241, 248, 263, 497, 498, 499, 500, 501, 502, 503, 504, 505, 506, 507, 510, 511"><span class="token sort_Id">FUN</span></a>    <span class="operator">:</span> <span class="keyword">list</span><span class="operator">(</span><span class="cons_SimpleSort"><a href="#TYPE_122_9" id="TYPE_130_19" title="Defined at line 122"><span class="token sort_Id">TYPE</span></a></span><span class="operator">)</span> <span class="operator">*</span> <span class="cons_SimpleSort"><a href="#TYPE_122_9" id="TYPE_130_27" title="Defined at line 122"><span class="token sort_Id">TYPE</span></a></span> <span class="operator">-&gt;</span> <span class="cons_SimpleSort"><a href="#TYPE_122_9" id="TYPE_130_35" title="Defined at line 122"><span class="token sort_Id">TYPE</span></a></span></span>

<span class="keyword">rules</span> <a href="#subtype_134_3" id="subtype_132_7" title="Referenced at line 134, 136, 145, 250, 276, 296, 309, 468"><span class="token sort_Id">subtype</span></a> <span class="operator">:</span> <span class="cons_SimpleSort"><a href="#TYPE_122_9" id="TYPE_132_17" title="Defined at line 122"><span class="token sort_Id">TYPE</span></a></span> <span class="operator">*</span> <span class="cons_SimpleSort"><a href="#TYPE_122_9" id="TYPE_132_24" title="Defined at line 122"><span class="token sort_Id">TYPE</span></a></span>

  <a href="#subtype_132_7" id="subtype_134_3" title="Defined at line 132"><span class="token sort_Id">subtype</span></a><span class="operator">(</span><span class="cons_Var">T</span><span class="operator">,</span> <span class="cons_Var"><span id="T_134_14" title="Not referenced"><span class="token sort_Id">T</span></span></span><span class="operator">).</span>

  <a href="#subtype_132_7" id="subtype_136_3" title="Defined at line 132"><span class="token sort_Id">subtype</span></a><span class="operator">(</span><span class="cons_Op"><a href="#NIL_127_5" id="NIL_136_11" title="Defined at line 127"><span class="token sort_Id">NIL</span></a><span class="operator">()</span></span><span class="operator">,</span> <span class="cons_Op"><a href="#RECORD_128_5" id="RECORD_136_18" title="Defined at line 128"><span class="token sort_Id">RECORD</span></a><span class="operator">(</span><span class="cons_Var"><span id="s_136_25" title="Not referenced"><span class="token sort_Id">s</span></span></span><span class="operator">)</span></span><span class="operator">).</span>

<span class="keyword">rules</span> <a href="#subtypes_142_3" id="subtypes_138_7" title="Referenced at line 142, 144, 146, 265"><span class="token sort_Id">subtypes</span></a> <span class="operator">:</span> <span class="keyword">list</span><span class="operator">(</span><span class="cons_SimpleSort"><a href="#TYPE_122_9" id="TYPE_138_23" title="Defined at line 122"><span class="token sort_Id">TYPE</span></a></span><span class="operator">)</span> <span class="operator">*</span> <span class="keyword">list</span><span class="operator">(</span><span class="cons_SimpleSort"><a href="#TYPE_122_9" id="TYPE_138_36" title="Defined at line 122"><span class="token sort_Id">TYPE</span></a></span><span class="operator">)</span>

<span class="layout">//  subtypes maps subtype(list(*), list(*))</span>

  <a href="#subtypes_138_7" id="subtypes_142_3" title="Defined at line 138"><span class="token sort_Id">subtypes</span></a><span class="operator">([],</span> <span class="operator">[]).</span>

  <a href="#subtypes_138_7" id="subtypes_144_3" title="Defined at line 138"><span class="token sort_Id">subtypes</span></a><span class="operator">([</span><span class="cons_Var"><a href="#T_145_13" id="T_144_13" title="Referenced at line 145"><span class="token sort_Id">T</span></a></span> <span class="operator">|</span> <span class="cons_Var"><a href="#Ts_146_14" id="Ts_144_17" title="Referenced at line 146"><span class="token sort_Id">Ts</span></a></span><span class="operator">],</span> <span class="operator">[</span><span class="cons_Var"><a href="#S_145_16" id="S_144_23" title="Referenced at line 145"><span class="token sort_Id">S</span></a></span> <span class="operator">|</span> <span class="cons_Var"><a href="#Ss_146_18" id="Ss_144_27" title="Referenced at line 146"><span class="token sort_Id">Ss</span></a></span><span class="operator">])</span> <span class="operator">:-</span>
    <a href="#subtype_132_7" id="subtype_145_5" title="Defined at line 132"><span class="token sort_Id">subtype</span></a><span class="operator">(</span><span class="cons_Var"><a href="#T_144_13" id="T_145_13" title="Defined at line 144"><span class="token sort_Id">T</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#S_144_23" id="S_145_16" title="Defined at line 144"><span class="token sort_Id">S</span></a></span><span class="operator">),</span>
    <a href="#subtypes_138_7" id="subtypes_146_5" title="Defined at line 138"><span class="token sort_Id">subtypes</span></a><span class="operator">(</span><span class="cons_Var"><a href="#Ts_144_17" id="Ts_146_14" title="Defined at line 144"><span class="token sort_Id">Ts</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#Ss_144_27" id="Ss_146_18" title="Defined at line 144"><span class="token sort_Id">Ss</span></a></span><span class="operator">).</span>

<span class="keyword">rules</span> <a href="#equitype_150_3" id="equitype_148_7" title="Referenced at line 150, 151, 152, 337, 393, 399"><span class="token sort_Id">equitype</span></a> <span class="operator">:</span> <span class="cons_SimpleSort"><a href="#TYPE_122_9" id="TYPE_148_18" title="Defined at line 122"><span class="token sort_Id">TYPE</span></a></span> <span class="operator">*</span> <span class="cons_SimpleSort"><a href="#TYPE_122_9" id="TYPE_148_25" title="Defined at line 122"><span class="token sort_Id">TYPE</span></a></span>

  <a href="#equitype_148_7" id="equitype_150_3" title="Defined at line 148"><span class="token sort_Id">equitype</span></a><span class="operator">(</span><span class="cons_Var"><span id="T_150_12" title="Not referenced"><span class="token sort_Id">T</span></span></span><span class="operator">,</span> <span class="cons_Var">T</span><span class="operator">).</span>
  <a href="#equitype_148_7" id="equitype_151_3" title="Defined at line 148"><span class="token sort_Id">equitype</span></a><span class="operator">(</span><span class="cons_Op"><a href="#NIL_127_5" id="NIL_151_12" title="Defined at line 127"><span class="token sort_Id">NIL</span></a><span class="operator">()</span></span><span class="operator">,</span> <span class="cons_Op"><a href="#RECORD_128_5" id="RECORD_151_19" title="Defined at line 128"><span class="token sort_Id">RECORD</span></a><span class="operator">(</span><span class="cons_Var"><span id="s_151_26" title="Not referenced"><span class="token sort_Id">s</span></span></span><span class="operator">)</span></span><span class="operator">).</span>
  <a href="#equitype_148_7" id="equitype_152_3" title="Defined at line 148"><span class="token sort_Id">equitype</span></a><span class="operator">(</span><span class="cons_Op"><a href="#RECORD_128_5" id="RECORD_152_12" title="Defined at line 128"><span class="token sort_Id">RECORD</span></a><span class="operator">(</span><span class="cons_Var"><span id="s_152_19" title="Not referenced"><span class="token sort_Id">s</span></span></span><span class="operator">)</span></span><span class="operator">,</span> <span class="cons_Op"><a href="#NIL_127_5" id="NIL_152_23" title="Defined at line 127"><span class="token sort_Id">NIL</span></a><span class="operator">()</span></span><span class="operator">).</span>

  <a href="#lub_155_3" id="lub_154_3" title="Referenced at line 155, 156, 333"><span class="token sort_Id">lub</span></a> <span class="operator">:</span> <span class="cons_SimpleSort"><a href="#TYPE_122_9" id="TYPE_154_9" title="Defined at line 122"><span class="token sort_Id">TYPE</span></a></span> <span class="operator">*</span> <span class="cons_SimpleSort"><a href="#TYPE_122_9" id="TYPE_154_16" title="Defined at line 122"><span class="token sort_Id">TYPE</span></a></span> <span class="operator">-&gt;</span> <span class="cons_SimpleSort"><a href="#TYPE_122_9" id="TYPE_154_24" title="Defined at line 122"><span class="token sort_Id">TYPE</span></a></span>
  <a href="#lub_154_3" id="lub_155_3" title="Defined at line 154"><span class="token sort_Id">lub</span></a><span class="operator">(</span><span class="cons_Var"><span id="S_155_7" title="Not referenced"><span class="token sort_Id">S</span></span></span><span class="operator">,</span> <span class="cons_Var"><span id="T_155_10" title="Not referenced"><span class="token sort_Id">T</span></span></span><span class="operator">)</span> <span class="operator">=</span> <span class="cons_Var">S</span><span class="operator">.</span>
  <a href="#lub_154_3" id="lub_156_3" title="Defined at line 154"><span class="token sort_Id">lub</span></a><span class="operator">(</span><span class="cons_Op"><a href="#NIL_127_5" id="NIL_156_7" title="Defined at line 127"><span class="token sort_Id">NIL</span></a><span class="operator">()</span></span><span class="operator">,</span> <span class="cons_Var">T</span><span class="operator">)</span> <span class="operator">=</span> <span class="cons_Var"><span id="T_156_19" title="Not referenced"><span class="token sort_Id">T</span></span></span><span class="operator">.</span>

<span class="keyword">rules</span>

  <a href="#typeOfExp_12_5" id="typeOfExp_160_3" title="Referenced at line 12, 161, 169, 242, 249, 262, 275, 280, 292, 294, 295, 302, 306, 308, 316, 318, 325, 328, 331, 333, 334, 335, 336, 339, 340, 341, 343, 346, 347, 349, 354, 355, 356, 358, 366, 371, 372, 374, 375, 376, 378, 379, 380, 382, 383, 384, 386, 387, 388, 390, 391, 392, 396, 397, 398, 402, 403, 404, 407, 408, 409, 411, 412, 413, 415, 416, 417, 419, 420, 421, 423, 424, 425, 442, 446, 466, 486, 535"><span class="token sort_Id">typeOfExp</span></a>  <span class="operator">:</span> <span class="cons_ScopeSort"><span class="keyword">scope</span></span> <span class="operator">*</span> <span class="cons_SimpleSort"><a href="../../src-gen/statix/signatures/Base-sig.stx/#Exp_9_5" id="Exp_160_24" title="Defined at ../../src-gen/statix/signatures/Base-sig.stx line 9"><span class="token sort_Id">Exp</span></a></span> <span class="operator">-&gt;</span> <span class="cons_SimpleSort"><a href="#TYPE_122_9" id="TYPE_160_31" title="Defined at line 122"><span class="token sort_Id">TYPE</span></a></span>
  <a href="#typeOfExps_264_5" id="typeOfExps_161_3" title="Referenced at line 264"><span class="token sort_Id">typeOfExps</span></a>   <span class="keyword">maps</span> <a href="#typeOfExp_160_3" id="typeOfExp_161_21" title="Defined at line 160"><span class="token sort_Id">typeOfExp</span></a><span class="operator">(*,</span> <span class="keyword">list</span><span class="operator">(*))</span> <span class="operator">=</span> <span class="keyword">list</span><span class="operator">(*)</span>


  <a href="#typeOfSeq_174_5" id="typeOfSeq_164_3" title="Referenced at line 174, 322, 324, 327, 329, 331"><span class="token sort_Id">typeOfSeq</span></a>  <span class="operator">:</span> <span class="cons_ScopeSort"><span class="keyword">scope</span></span> <span class="operator">*</span> <span class="keyword">list</span><span class="operator">(</span><span class="cons_SimpleSort"><a href="../../src-gen/statix/signatures/Base-sig.stx/#Exp_9_5" id="Exp_164_29" title="Defined at ../../src-gen/statix/signatures/Base-sig.stx line 9"><span class="token sort_Id">Exp</span></a></span><span class="operator">)</span> <span class="operator">-&gt;</span> <span class="cons_SimpleSort"><a href="#TYPE_122_9" id="TYPE_164_37" title="Defined at line 122"><span class="token sort_Id">TYPE</span></a></span>
  <a href="#typeOfLVal_300_3" id="typeOfLVal_165_3" title="Referenced at line 300, 301, 307, 313, 316, 480, 481, 523"><span class="token sort_Id">typeOfLVal</span></a> <span class="operator">:</span> <span class="cons_ScopeSort"><span class="keyword">scope</span></span> <span class="operator">*</span> <span class="cons_SimpleSort"><a href="../../src-gen/statix/signatures/Base-sig.stx/#LValue_10_5" id="LValue_165_24" title="Defined at ../../src-gen/statix/signatures/Base-sig.stx line 10"><span class="token sort_Id">LValue</span></a></span> <span class="operator">-&gt;</span> <span class="cons_SimpleSort"><a href="#TYPE_122_9" id="TYPE_165_34" title="Defined at line 122"><span class="token sort_Id">TYPE</span></a></span>

<span class="keyword">rules</span>

  <a href="#typeOfExp_160_3" id="typeOfExp_169_3" title="Defined at line 160"><span class="token sort_Id">typeOfExp</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_outer_172_16" id="s_outer_169_13" title="Referenced at line 172"><span class="token sort_Id">s_outer</span></a></span><span class="operator">,</span> <span class="cons_Op"><a href="../../src-gen/statix/signatures/Bindings-sig.stx/#Let_17_5" id="Let_169_22" title="Defined at ../../src-gen/statix/signatures/Bindings-sig.stx line 17"><span class="token sort_Id">Let</span></a><span class="operator">(</span><span class="cons_Var"><a href="#ds_173_27" id="ds_169_26" title="Referenced at line 173"><span class="token sort_Id">ds</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#es_174_23" id="es_169_30" title="Referenced at line 174"><span class="token sort_Id">es</span></a></span><span class="operator">)</span></span><span class="operator">)</span> <span class="operator">=</span> <span class="cons_Var"><a href="#T_174_30" id="T_169_37" title="Referenced at line 174"><span class="token sort_Id">T</span></a></span> <span class="operator">:-</span> <span class="operator">{</span><span class="cons_Var"><a href="#s_body_170_9" id="s_body_169_43" title="Referenced at line 170, 173, 174"><span class="token sort_Id">s_body</span></a></span> <span class="cons_Var"><a href="#s_dec_171_9" id="s_dec_169_50" title="Referenced at line 171, 172, 173"><span class="token sort_Id">s_dec</span></a></span><span class="operator">}</span>
    <span class="keyword">new</span> <span class="cons_Var"><a href="#s_body_169_43" id="s_body_170_9" title="Defined at line 169"><span class="token sort_Id">s_body</span></a></span><span class="operator">,</span>
    <span class="keyword">new</span> <span class="cons_Var"><a href="#s_dec_169_50" id="s_dec_171_9" title="Defined at line 169"><span class="token sort_Id">s_dec</span></a></span><span class="operator">,</span>
    <span class="cons_Var"><a href="#s_dec_169_50" id="s_dec_172_5" title="Defined at line 169"><span class="token sort_Id">s_dec</span></a></span> <span class="operator">-</span><span class="cons_Label"><a href="#P_32_12" id="P_172_12" title="Defined at line 32"><span class="token sort_Id">P</span></a></span><span class="operator">-&gt;</span> <span class="cons_Var"><a href="#s_outer_169_13" id="s_outer_172_16" title="Defined at line 169"><span class="token sort_Id">s_outer</span></a></span><span class="operator">,</span>
    <a href="#decsOk_177_3" id="decsOk_173_5" title="Defined at line 177"><span class="token sort_Id">decsOk</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_body_169_43" id="s_body_173_12" title="Defined at line 169"><span class="token sort_Id">s_body</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#s_dec_169_50" id="s_dec_173_20" title="Defined at line 169"><span class="token sort_Id">s_dec</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#ds_169_26" id="ds_173_27" title="Defined at line 169"><span class="token sort_Id">ds</span></a></span><span class="operator">),</span>
    <a href="#typeOfSeq_164_3" id="typeOfSeq_174_5" title="Defined at line 164"><span class="token sort_Id">typeOfSeq</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_body_169_43" id="s_body_174_15" title="Defined at line 169"><span class="token sort_Id">s_body</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#es_169_30" id="es_174_23" title="Defined at line 169"><span class="token sort_Id">es</span></a></span><span class="operator">)</span> <span class="operator">==</span> <span class="cons_Var"><a href="#T_169_37" id="T_174_30" title="Defined at line 169"><span class="token sort_Id">T</span></a></span><span class="operator">.</span>


  <a href="#decsOk_173_5" id="decsOk_177_3" title="Referenced at line 173, 181, 185, 187, 191, 193, 195, 197"><span class="token sort_Id">decsOk</span></a>     <span class="operator">:</span> <span class="cons_ScopeSort"><span class="keyword">scope</span></span> <span class="operator">*</span> <span class="cons_ScopeSort"><span class="keyword">scope</span></span> <span class="operator">*</span> <span class="keyword">list</span><span class="operator">(</span><span class="cons_SimpleSort"><a href="../../src-gen/statix/signatures/Base-sig.stx/#Dec_8_5" id="Dec_177_37" title="Defined at ../../src-gen/statix/signatures/Base-sig.stx line 8"><span class="token sort_Id">Dec</span></a></span><span class="operator">)</span>
  <a href="#decOk_184_5" id="decOk_178_3" title="Referenced at line 184, 190, 194, 214, 238, 244, 273, 279, 525"><span class="token sort_Id">decOk</span></a>      <span class="operator">:</span> <span class="cons_ScopeSort"><span class="keyword">scope</span></span> <span class="operator">*</span> <span class="cons_ScopeSort"><span class="keyword">scope</span></span> <span class="operator">*</span> <span class="cons_SimpleSort"><a href="../../src-gen/statix/signatures/Base-sig.stx/#Dec_8_5" id="Dec_178_32" title="Defined at ../../src-gen/statix/signatures/Base-sig.stx line 8"><span class="token sort_Id">Dec</span></a></span>


  <a href="#decsOk_177_3" id="decsOk_181_3" title="Defined at line 177"><span class="token sort_Id">decsOk</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_body_185_12" id="s_body_181_10" title="Referenced at line 185"><span class="token sort_Id">s_body</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#s_outer_183_16" id="s_outer_181_18" title="Referenced at line 183, 184"><span class="token sort_Id">s_outer</span></a></span><span class="operator">,</span> <span class="operator">[</span><span class="cons_Var"><a href="#dec_184_27" id="dec_181_28" title="Referenced at line 184"><span class="token sort_Id">dec</span></a></span><span class="operator">@</span><span class="cons_Op"><a href="../../src-gen/statix/signatures/Variables-sig.stx/#VarDec_15_5" id="VarDec_181_32" title="Defined at ../../src-gen/statix/signatures/Variables-sig.stx line 15"><span class="token sort_Id">VarDec</span></a><span class="operator">(_,</span> <span class="operator">_,</span> <span class="operator">_)</span></span> <span class="operator">|</span> <span class="cons_Var"><a href="#decs_185_27" id="decs_181_50" title="Referenced at line 185"><span class="token sort_Id">decs</span></a></span><span class="operator">])</span> <span class="operator">:-</span> <span class="operator">{</span><span class="cons_Var"><a href="#s_dec_182_9" id="s_dec_181_61" title="Referenced at line 182, 183, 184, 185"><span class="token sort_Id">s_dec</span></a></span><span class="operator">}</span>
    <span class="keyword">new</span> <span class="cons_Var"><a href="#s_dec_181_61" id="s_dec_182_9" title="Defined at line 181"><span class="token sort_Id">s_dec</span></a></span><span class="operator">,</span>
    <span class="cons_Var"><a href="#s_dec_181_61" id="s_dec_183_5" title="Defined at line 181"><span class="token sort_Id">s_dec</span></a></span> <span class="operator">-</span><span class="cons_Label"><a href="#P_32_12" id="P_183_12" title="Defined at line 32"><span class="token sort_Id">P</span></a></span><span class="operator">-&gt;</span> <span class="cons_Var"><a href="#s_outer_181_18" id="s_outer_183_16" title="Defined at line 181"><span class="token sort_Id">s_outer</span></a></span><span class="operator">,</span>
    <a href="#decOk_178_3" id="decOk_184_5" title="Defined at line 178"><span class="token sort_Id">decOk</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_dec_181_61" id="s_dec_184_11" title="Defined at line 181"><span class="token sort_Id">s_dec</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#s_outer_181_18" id="s_outer_184_18" title="Defined at line 181"><span class="token sort_Id">s_outer</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#dec_181_28" id="dec_184_27" title="Defined at line 181"><span class="token sort_Id">dec</span></a></span><span class="operator">),</span>
    <a href="#decsOk_177_3" id="decsOk_185_5" title="Defined at line 177"><span class="token sort_Id">decsOk</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_body_181_10" id="s_body_185_12" title="Defined at line 181"><span class="token sort_Id">s_body</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#s_dec_181_61" id="s_dec_185_20" title="Defined at line 181"><span class="token sort_Id">s_dec</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#decs_181_50" id="decs_185_27" title="Defined at line 181"><span class="token sort_Id">decs</span></a></span><span class="operator">).</span>

  <a href="#decsOk_177_3" id="decsOk_187_3" title="Defined at line 177"><span class="token sort_Id">decsOk</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_body_191_12" id="s_body_187_10" title="Referenced at line 191"><span class="token sort_Id">s_body</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#s_outer_189_16" id="s_outer_187_18" title="Referenced at line 189, 190"><span class="token sort_Id">s_outer</span></a></span><span class="operator">,</span> <span class="operator">[</span><span class="cons_Var"><a href="#dec_190_27" id="dec_187_28" title="Referenced at line 190"><span class="token sort_Id">dec</span></a></span><span class="operator">@</span><span class="cons_Op"><a href="../../src-gen/statix/signatures/Variables-sig.stx/#VarDecNoType_16_5" id="VarDecNoType_187_32" title="Defined at ../../src-gen/statix/signatures/Variables-sig.stx line 16"><span class="token sort_Id">VarDecNoType</span></a><span class="operator">(_,</span> <span class="operator">_)</span></span> <span class="operator">|</span> <span class="cons_Var"><a href="#decs_191_27" id="decs_187_53" title="Referenced at line 191"><span class="token sort_Id">decs</span></a></span><span class="operator">])</span> <span class="operator">:-</span> <span class="operator">{</span><span class="cons_Var"><a href="#s_dec_188_9" id="s_dec_187_64" title="Referenced at line 188, 189, 190, 191"><span class="token sort_Id">s_dec</span></a></span><span class="operator">}</span>
    <span class="keyword">new</span> <span class="cons_Var"><a href="#s_dec_187_64" id="s_dec_188_9" title="Defined at line 187"><span class="token sort_Id">s_dec</span></a></span><span class="operator">,</span>
    <span class="cons_Var"><a href="#s_dec_187_64" id="s_dec_189_5" title="Defined at line 187"><span class="token sort_Id">s_dec</span></a></span> <span class="operator">-</span><span class="cons_Label"><a href="#P_32_12" id="P_189_12" title="Defined at line 32"><span class="token sort_Id">P</span></a></span><span class="operator">-&gt;</span> <span class="cons_Var"><a href="#s_outer_187_18" id="s_outer_189_16" title="Defined at line 187"><span class="token sort_Id">s_outer</span></a></span><span class="operator">,</span>
    <a href="#decOk_178_3" id="decOk_190_5" title="Defined at line 178"><span class="token sort_Id">decOk</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_dec_187_64" id="s_dec_190_11" title="Defined at line 187"><span class="token sort_Id">s_dec</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#s_outer_187_18" id="s_outer_190_18" title="Defined at line 187"><span class="token sort_Id">s_outer</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#dec_187_28" id="dec_190_27" title="Defined at line 187"><span class="token sort_Id">dec</span></a></span><span class="operator">),</span>
    <a href="#decsOk_177_3" id="decsOk_191_5" title="Defined at line 177"><span class="token sort_Id">decsOk</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_body_187_10" id="s_body_191_12" title="Defined at line 187"><span class="token sort_Id">s_body</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#s_dec_187_64" id="s_dec_191_20" title="Defined at line 187"><span class="token sort_Id">s_dec</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#decs_187_53" id="decs_191_27" title="Defined at line 187"><span class="token sort_Id">decs</span></a></span><span class="operator">).</span>

  <a href="#decsOk_177_3" id="decsOk_193_3" title="Defined at line 177"><span class="token sort_Id">decsOk</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_body_195_12" id="s_body_193_10" title="Referenced at line 195"><span class="token sort_Id">s_body</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#s_outer_194_11" id="s_outer_193_18" title="Referenced at line 194, 195"><span class="token sort_Id">s_outer</span></a></span><span class="operator">,</span> <span class="operator">[</span><span class="cons_Var"><a href="#dec_194_29" id="dec_193_28" title="Referenced at line 194"><span class="token sort_Id">dec</span></a></span> <span class="operator">|</span> <span class="cons_Var"><a href="#decs_195_29" id="decs_193_34" title="Referenced at line 195"><span class="token sort_Id">decs</span></a></span><span class="operator">])</span> <span class="operator">:-</span> <span class="operator">{</span><span class="cons_Var"><span id="s_dec_193_45" title="Not referenced"><span class="token sort_Id">s_dec</span></span></span><span class="operator">}</span>
    <a href="#decOk_178_3" id="decOk_194_5" title="Defined at line 178"><span class="token sort_Id">decOk</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_outer_193_18" id="s_outer_194_11" title="Defined at line 193"><span class="token sort_Id">s_outer</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#s_outer_193_18" id="s_outer_194_20" title="Defined at line 193"><span class="token sort_Id">s_outer</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#dec_193_28" id="dec_194_29" title="Defined at line 193"><span class="token sort_Id">dec</span></a></span><span class="operator">),</span>
    <a href="#decsOk_177_3" id="decsOk_195_5" title="Defined at line 177"><span class="token sort_Id">decsOk</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_body_193_10" id="s_body_195_12" title="Defined at line 193"><span class="token sort_Id">s_body</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#s_outer_193_18" id="s_outer_195_20" title="Defined at line 193"><span class="token sort_Id">s_outer</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#decs_193_34" id="decs_195_29" title="Defined at line 193"><span class="token sort_Id">decs</span></a></span><span class="operator">).</span>

  <a href="#decsOk_177_3" id="decsOk_197_3" title="Defined at line 177"><span class="token sort_Id">decsOk</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_body_198_5" id="s_body_197_10" title="Referenced at line 198"><span class="token sort_Id">s_body</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#s_outer_198_17" id="s_outer_197_18" title="Referenced at line 198"><span class="token sort_Id">s_outer</span></a></span><span class="operator">,</span> <span class="operator">[])</span> <span class="operator">:-</span>
    <span class="cons_Var"><a href="#s_body_197_10" id="s_body_198_5" title="Defined at line 197"><span class="token sort_Id">s_body</span></a></span> <span class="operator">-</span><span class="cons_Label"><a href="#P_32_12" id="P_198_13" title="Defined at line 32"><span class="token sort_Id">P</span></a></span><span class="operator">-&gt;</span> <span class="cons_Var"><a href="#s_outer_197_18" id="s_outer_198_17" title="Defined at line 197"><span class="token sort_Id">s_outer</span></a></span><span class="operator">.</span>

<span class="keyword">rules</span> <span class="layout">// type declarations</span>

  <span class="layout">// Types: In the expression [let ... typedecs ... in exps end] the</span>
  <span class="layout">// scope of a type identifier starts at the beginning of the</span>
  <span class="layout">// consecutive sequence of type declarations defining it and lasts</span>
  <span class="layout">// until the end. The includes the headers and bodies of any functions</span>
  <span class="layout">// with the scope.</span>

  <span class="layout">// Name spaces: There are two different name spaces: one for types,</span>
  <span class="layout">// and one for functions and variables. A type [a] can be "in scope"</span>
  <span class="layout">// at the same time as a variable [a] or a function [a], but</span>
  <span class="layout">// variables and functions of the same name cannot both be in</span>
  <span class="layout">// scope simultaneously (one will hide the other).</span>

  <a href="#decOk_178_3" id="decOk_214_3" title="Defined at line 178"><span class="token sort_Id">decOk</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_216_17" id="s_214_9" title="Referenced at line 216"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#s_outer_215_16" id="s_outer_214_12" title="Referenced at line 215"><span class="token sort_Id">s_outer</span></a></span><span class="operator">,</span> <span class="cons_Op"><a href="../../src-gen/statix/signatures/Types-sig.stx/#TypeDec_15_5" id="TypeDec_214_21" title="Defined at ../../src-gen/statix/signatures/Types-sig.stx line 15"><span class="token sort_Id">TypeDec</span></a><span class="operator">(</span><span class="cons_Var"><a href="#x_216_20" id="x_214_29" title="Referenced at line 216"><span class="token sort_Id">x</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#t_215_25" id="t_214_32" title="Referenced at line 215"><span class="token sort_Id">t</span></a></span><span class="operator">)</span></span><span class="operator">)</span> <span class="operator">:-</span> <span class="operator">{</span><span class="cons_Var"><a href="#T_215_31" id="T_214_40" title="Referenced at line 215, 216"><span class="token sort_Id">T</span></a></span><span class="operator">}</span>
    <a href="#typeOfType_222_3" id="typeOfType_215_5" title="Defined at line 222"><span class="token sort_Id">typeOfType</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_outer_214_12" id="s_outer_215_16" title="Defined at line 214"><span class="token sort_Id">s_outer</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#t_214_32" id="t_215_25" title="Defined at line 214"><span class="token sort_Id">t</span></a></span><span class="operator">)</span> <span class="operator">==</span> <span class="cons_Var"><a href="#T_214_40" id="T_215_31" title="Defined at line 214"><span class="token sort_Id">T</span></a></span><span class="operator">,</span>
    <a href="#declareType_73_3" id="declareType_216_5" title="Defined at line 73"><span class="token sort_Id">declareType</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_214_9" id="s_216_17" title="Defined at line 214"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#x_214_29" id="x_216_20" title="Defined at line 214"><span class="token sort_Id">x</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#T_214_40" id="T_216_23" title="Defined at line 214"><span class="token sort_Id">T</span></a></span><span class="operator">).</span>

   <span class="layout">// note: type declarations in a sequence are mutually recursive</span>

<span class="keyword">rules</span> <span class="layout">// types</span>

  <a href="#typeOfType_215_5" id="typeOfType_222_3" title="Referenced at line 215, 224, 247, 257, 274, 286, 288, 293, 429, 437, 447, 527"><span class="token sort_Id">typeOfType</span></a> <span class="operator">:</span> <span class="cons_ScopeSort"><span class="keyword">scope</span></span> <span class="operator">*</span> <span class="cons_SimpleSort"><a href="../../src-gen/statix/signatures/Base-sig.stx/#Type_11_5" id="Type_222_24" title="Defined at ../../src-gen/statix/signatures/Base-sig.stx line 11"><span class="token sort_Id">Type</span></a></span> <span class="operator">-&gt;</span> <span class="cons_SimpleSort"><a href="#TYPE_122_9" id="TYPE_222_32" title="Defined at line 122"><span class="token sort_Id">TYPE</span></a></span>

  <a href="#typeOfType_222_3" id="typeOfType_224_3" title="Defined at line 222"><span class="token sort_Id">typeOfType</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_226_16" id="s_224_14" title="Referenced at line 226"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="cons_Op"><a href="../../src-gen/statix/signatures/Types-sig.stx/#Tid_16_5" id="Tid_224_17" title="Defined at ../../src-gen/statix/signatures/Types-sig.stx line 16"><span class="token sort_Id">Tid</span></a><span class="operator">(</span><span class="cons_Var"><a href="#x_226_19" id="x_224_21" title="Referenced at line 226, 227"><span class="token sort_Id">x</span></a></span><span class="operator">)</span></span><span class="operator">)</span> <span class="operator">=</span> <span class="cons_Var"><a href="#T_226_35" id="T_224_27" title="Referenced at line 226"><span class="token sort_Id">T</span></a></span> <span class="operator">:-</span> <span class="operator">{</span><span class="cons_Var"><a href="#x'_226_31" id="x'_224_33" title="Referenced at line 226, 227"><span class="token sort_Id">x'</span></a></span><span class="operator">}</span>
    <span class="layout">// permissive lookup to cope with double declaration</span>
    <a href="#lookupType_74_3" id="lookupType_226_5" title="Defined at line 74"><span class="token sort_Id">lookupType</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_224_14" id="s_226_16" title="Defined at line 224"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#x_224_21" id="x_226_19" title="Defined at line 224"><span class="token sort_Id">x</span></a></span><span class="operator">)</span> <span class="operator">==</span> <span class="operator">[(_,</span> <span class="operator">(</span><span class="cons_Var"><a href="#x'_224_33" id="x'_226_31" title="Defined at line 224"><span class="token sort_Id">x'</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#T_224_27" id="T_226_35" title="Defined at line 224"><span class="token sort_Id">T</span></a></span><span class="operator">))</span> <span class="operator">|</span> <span class="operator">_],</span>
    <span class="operator">@</span><span class="cons_Var"><a href="#x_224_21" id="x_227_6" title="Defined at line 224"><span class="token sort_Id">x</span></a></span><span class="operator">.</span><span class="keyword">ref</span> <span class="operator">:=</span> <span class="cons_Var"><a href="#x'_224_33" id="x'_227_15" title="Defined at line 224"><span class="token sort_Id">x'</span></a></span><span class="operator">.</span>

    <span class="layout">// typeOfDecl of Type{x} in s |-&gt; [(_, (_, T))|_].</span>
    <span class="layout">// permissive query to allow non-distinct type declarations</span>

<span class="keyword">rules</span> <span class="layout">// function declarations</span>

  <span class="layout">// Parameters: In [function id(... id1: id2 ...) = exp] the</span>
  <span class="layout">// scope of the parameter id1 lasts throughout the function</span>
  <span class="layout">// body exp</span>

  <a href="#decOk_178_3" id="decOk_238_3" title="Defined at line 178"><span class="token sort_Id">decOk</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_239_27" id="s_238_9" title="Referenced at line 239, 241"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#s_outer_240_24" id="s_outer_238_12" title="Referenced at line 240"><span class="token sort_Id">s_outer</span></a></span><span class="operator">,</span> <span class="cons_Var"><span id="d_238_21" title="Not referenced"><span class="token sort_Id">d</span></span></span><span class="operator">@</span><span class="cons_Op"><a href="../../src-gen/statix/signatures/Functions-sig.stx/#ProcDec_17_5" id="ProcDec_238_23" title="Defined at ../../src-gen/statix/signatures/Functions-sig.stx line 17"><span class="token sort_Id">ProcDec</span></a><span class="operator">(</span><span class="cons_Var"><a href="#f_241_19" id="f_238_31" title="Referenced at line 241"><span class="token sort_Id">f</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#args_240_33" id="args_238_34" title="Referenced at line 240"><span class="token sort_Id">args</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#e_242_22" id="e_238_40" title="Referenced at line 242"><span class="token sort_Id">e</span></a></span><span class="operator">)</span></span><span class="operator">)</span> <span class="operator">:-</span> <span class="operator">{</span><span class="cons_Var"><a href="#s_fun_239_9" id="s_fun_238_48" title="Referenced at line 239, 240, 242"><span class="token sort_Id">s_fun</span></a></span> <span class="cons_Var"><a href="#Ts_240_42" id="Ts_238_54" title="Referenced at line 240, 241"><span class="token sort_Id">Ts</span></a></span><span class="operator">}</span>
    <span class="keyword">new</span> <span class="cons_Var"><a href="#s_fun_238_48" id="s_fun_239_9" title="Defined at line 238"><span class="token sort_Id">s_fun</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#s_fun_238_48" id="s_fun_239_16" title="Defined at line 238"><span class="token sort_Id">s_fun</span></a></span> <span class="operator">-</span><span class="cons_Label"><a href="#P_32_12" id="P_239_23" title="Defined at line 32"><span class="token sort_Id">P</span></a></span><span class="operator">-&gt;</span> <span class="cons_Var"><a href="#s_238_9" id="s_239_27" title="Defined at line 238"><span class="token sort_Id">s</span></a></span><span class="operator">,</span>
    <a href="#typesOfArgs_254_3" id="typesOfArgs_240_5" title="Defined at line 254"><span class="token sort_Id">typesOfArgs</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_fun_238_48" id="s_fun_240_17" title="Defined at line 238"><span class="token sort_Id">s_fun</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#s_outer_238_12" id="s_outer_240_24" title="Defined at line 238"><span class="token sort_Id">s_outer</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#args_238_34" id="args_240_33" title="Defined at line 238"><span class="token sort_Id">args</span></a></span><span class="operator">)</span> <span class="operator">==</span> <span class="cons_Var"><a href="#Ts_238_54" id="Ts_240_42" title="Defined at line 238"><span class="token sort_Id">Ts</span></a></span><span class="operator">,</span>
    <a href="#declareVar_49_3" id="declareVar_241_5" title="Defined at line 49"><span class="token sort_Id">declareVar</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_238_9" id="s_241_16" title="Defined at line 238"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#f_238_31" id="f_241_19" title="Defined at line 238"><span class="token sort_Id">f</span></a></span><span class="operator">,</span> <span class="cons_Op"><a href="#FUN_130_5" id="FUN_241_22" title="Defined at line 130"><span class="token sort_Id">FUN</span></a><span class="operator">(</span><span class="cons_Var"><a href="#Ts_238_54" id="Ts_241_26" title="Defined at line 238"><span class="token sort_Id">Ts</span></a></span><span class="operator">,</span> <span class="cons_Op"><a href="#UNIT_124_5" id="UNIT_241_30" title="Defined at line 124"><span class="token sort_Id">UNIT</span></a><span class="operator">()</span></span><span class="operator">)</span></span><span class="operator">),</span>
    <a href="#typeOfExp_160_3" id="typeOfExp_242_5" title="Defined at line 160"><span class="token sort_Id">typeOfExp</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_fun_238_48" id="s_fun_242_15" title="Defined at line 238"><span class="token sort_Id">s_fun</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#e_238_40" id="e_242_22" title="Defined at line 238"><span class="token sort_Id">e</span></a></span><span class="operator">)</span> <span class="operator">==</span> <span class="cons_Op"><a href="#UNIT_124_5" id="UNIT_242_28" title="Defined at line 124"><span class="token sort_Id">UNIT</span></a><span class="operator">()</span></span><span class="operator">.</span>

  <a href="#decOk_178_3" id="decOk_244_3" title="Defined at line 178"><span class="token sort_Id">decOk</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_245_27" id="s_244_9" title="Referenced at line 245, 248"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#s_outer_246_24" id="s_outer_244_12" title="Referenced at line 246, 247"><span class="token sort_Id">s_outer</span></a></span><span class="operator">,</span> <span class="cons_Var"><span id="d_244_21" title="Not referenced"><span class="token sort_Id">d</span></span></span><span class="operator">@</span><span class="cons_Op"><a href="../../src-gen/statix/signatures/Functions-sig.stx/#FunDec_18_5" id="FunDec_244_23" title="Defined at ../../src-gen/statix/signatures/Functions-sig.stx line 18"><span class="token sort_Id">FunDec</span></a><span class="operator">(</span><span class="cons_Var"><a href="#f_248_19" id="f_244_30" title="Referenced at line 248"><span class="token sort_Id">f</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#args_246_33" id="args_244_33" title="Referenced at line 246"><span class="token sort_Id">args</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#t_247_25" id="t_244_39" title="Referenced at line 247, 250"><span class="token sort_Id">t</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#e_249_22" id="e_244_42" title="Referenced at line 249"><span class="token sort_Id">e</span></a></span><span class="operator">)</span></span><span class="operator">)</span> <span class="operator">:-</span> <span class="operator">{</span><span class="cons_Var"><a href="#s_fun_245_9" id="s_fun_244_50" title="Referenced at line 245, 246, 249"><span class="token sort_Id">s_fun</span></a></span> <span class="cons_Var"><a href="#Ts_246_42" id="Ts_244_56" title="Referenced at line 246, 248"><span class="token sort_Id">Ts</span></a></span> <span class="cons_Var"><a href="#T_247_31" id="T_244_59" title="Referenced at line 247, 248, 250"><span class="token sort_Id">T</span></a></span> <span class="cons_Var"><a href="#S_249_28" id="S_244_61" title="Referenced at line 249, 250"><span class="token sort_Id">S</span></a></span><span class="operator">}</span>
    <span class="keyword">new</span> <span class="cons_Var"><a href="#s_fun_244_50" id="s_fun_245_9" title="Defined at line 244"><span class="token sort_Id">s_fun</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#s_fun_244_50" id="s_fun_245_16" title="Defined at line 244"><span class="token sort_Id">s_fun</span></a></span> <span class="operator">-</span><span class="cons_Label"><a href="#P_32_12" id="P_245_23" title="Defined at line 32"><span class="token sort_Id">P</span></a></span><span class="operator">-&gt;</span> <span class="cons_Var"><a href="#s_244_9" id="s_245_27" title="Defined at line 244"><span class="token sort_Id">s</span></a></span><span class="operator">,</span>
    <a href="#typesOfArgs_254_3" id="typesOfArgs_246_5" title="Defined at line 254"><span class="token sort_Id">typesOfArgs</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_fun_244_50" id="s_fun_246_17" title="Defined at line 244"><span class="token sort_Id">s_fun</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#s_outer_244_12" id="s_outer_246_24" title="Defined at line 244"><span class="token sort_Id">s_outer</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#args_244_33" id="args_246_33" title="Defined at line 244"><span class="token sort_Id">args</span></a></span><span class="operator">)</span> <span class="operator">==</span> <span class="cons_Var"><a href="#Ts_244_56" id="Ts_246_42" title="Defined at line 244"><span class="token sort_Id">Ts</span></a></span><span class="operator">,</span>
    <a href="#typeOfType_222_3" id="typeOfType_247_5" title="Defined at line 222"><span class="token sort_Id">typeOfType</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_outer_244_12" id="s_outer_247_16" title="Defined at line 244"><span class="token sort_Id">s_outer</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#t_244_39" id="t_247_25" title="Defined at line 244"><span class="token sort_Id">t</span></a></span><span class="operator">)</span> <span class="operator">==</span> <span class="cons_Var"><a href="#T_244_59" id="T_247_31" title="Defined at line 244"><span class="token sort_Id">T</span></a></span><span class="operator">,</span>
    <a href="#declareVar_49_3" id="declareVar_248_5" title="Defined at line 49"><span class="token sort_Id">declareVar</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_244_9" id="s_248_16" title="Defined at line 244"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#f_244_30" id="f_248_19" title="Defined at line 244"><span class="token sort_Id">f</span></a></span><span class="operator">,</span> <span class="cons_Op"><a href="#FUN_130_5" id="FUN_248_22" title="Defined at line 130"><span class="token sort_Id">FUN</span></a><span class="operator">(</span><span class="cons_Var"><a href="#Ts_244_56" id="Ts_248_26" title="Defined at line 244"><span class="token sort_Id">Ts</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#T_244_59" id="T_248_30" title="Defined at line 244"><span class="token sort_Id">T</span></a></span><span class="operator">)</span></span><span class="operator">),</span>
    <a href="#typeOfExp_160_3" id="typeOfExp_249_5" title="Defined at line 160"><span class="token sort_Id">typeOfExp</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_fun_244_50" id="s_fun_249_15" title="Defined at line 244"><span class="token sort_Id">s_fun</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#e_244_42" id="e_249_22" title="Defined at line 244"><span class="token sort_Id">e</span></a></span><span class="operator">)</span> <span class="operator">==</span> <span class="cons_Var"><a href="#S_244_61" id="S_249_28" title="Defined at line 244"><span class="token sort_Id">S</span></a></span><span class="operator">,</span>
    <a href="#subtype_132_7" id="subtype_250_5" title="Defined at line 132"><span class="token sort_Id">subtype</span></a><span class="operator">(</span><span class="cons_Var"><a href="#S_244_61" id="S_250_13" title="Defined at line 244"><span class="token sort_Id">S</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#T_244_59" id="T_250_16" title="Defined at line 244"><span class="token sort_Id">T</span></a></span><span class="operator">)</span> <span class="operator">|</span> <span class="keyword">error</span> <span class="operator">$[[</span><span class="cons_Var"><a href="#S_244_61" id="S_250_30" title="Defined at line 244"><span class="token sort_Id">S</span></a></span><span class="operator">]</span><span class="cons_Text"> is not a subtype of </span><span class="operator">[</span><span class="cons_Var"><a href="#T_244_59" id="T_250_54" title="Defined at line 244"><span class="token sort_Id">T</span></a></span><span class="operator">]]</span> <span class="operator">@</span><span class="cons_Var"><a href="#t_244_39" id="t_250_59" title="Defined at line 244"><span class="token sort_Id">t</span></a></span><span class="operator">.</span>

<span class="keyword">rules</span>
  <a href="#typeOfArg_254_21" id="typeOfArg_253_3" title="Referenced at line 254, 256, 529"><span class="token sort_Id">typeOfArg</span></a>  <span class="operator">:</span> <span class="cons_ScopeSort"><span class="keyword">scope</span></span> <span class="operator">*</span> <span class="cons_ScopeSort"><span class="keyword">scope</span></span> <span class="operator">*</span> <span class="cons_SimpleSort"><a href="../../src-gen/statix/signatures/Functions-sig.stx/#FArg_9_5" id="FArg_253_32" title="Defined at ../../src-gen/statix/signatures/Functions-sig.stx line 9"><span class="token sort_Id">FArg</span></a></span> <span class="operator">-&gt;</span> <span class="cons_SimpleSort"><a href="#TYPE_122_9" id="TYPE_253_40" title="Defined at line 122"><span class="token sort_Id">TYPE</span></a></span>
  <a href="#typesOfArgs_240_5" id="typesOfArgs_254_3" title="Referenced at line 240, 246"><span class="token sort_Id">typesOfArgs</span></a>  <span class="keyword">maps</span> <a href="#typeOfArg_253_3" id="typeOfArg_254_21" title="Defined at line 253"><span class="token sort_Id">typeOfArg</span></a><span class="operator">(*,</span> <span class="operator">*,</span> <span class="keyword">list</span><span class="operator">(*))</span> <span class="operator">=</span> <span class="keyword">list</span><span class="operator">(*)</span>

  <a href="#typeOfArg_253_3" id="typeOfArg_256_3" title="Defined at line 253"><span class="token sort_Id">typeOfArg</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_fun_258_16" id="s_fun_256_13" title="Referenced at line 258"><span class="token sort_Id">s_fun</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#s_outer_257_16" id="s_outer_256_20" title="Referenced at line 257"><span class="token sort_Id">s_outer</span></a></span><span class="operator">,</span> <span class="cons_Op"><a href="../../src-gen/statix/signatures/Functions-sig.stx/#FArg_19_5" id="FArg_256_29" title="Defined at ../../src-gen/statix/signatures/Functions-sig.stx line 19"><span class="token sort_Id">FArg</span></a><span class="operator">(</span><span class="cons_Var"><a href="#x_258_23" id="x_256_34" title="Referenced at line 258"><span class="token sort_Id">x</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#t_257_25" id="t_256_37" title="Referenced at line 257"><span class="token sort_Id">t</span></a></span><span class="operator">)</span></span><span class="operator">)</span> <span class="operator">=</span> <span class="cons_Var"><a href="#T_257_31" id="T_256_43" title="Referenced at line 257, 258"><span class="token sort_Id">T</span></a></span> <span class="operator">:-</span>
    <a href="#typeOfType_222_3" id="typeOfType_257_5" title="Defined at line 222"><span class="token sort_Id">typeOfType</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_outer_256_20" id="s_outer_257_16" title="Defined at line 256"><span class="token sort_Id">s_outer</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#t_256_37" id="t_257_25" title="Defined at line 256"><span class="token sort_Id">t</span></a></span><span class="operator">)</span> <span class="operator">==</span> <span class="cons_Var"><a href="#T_256_43" id="T_257_31" title="Defined at line 256"><span class="token sort_Id">T</span></a></span><span class="operator">,</span>
    <a href="#declareVar_49_3" id="declareVar_258_5" title="Defined at line 49"><span class="token sort_Id">declareVar</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_fun_256_13" id="s_fun_258_16" title="Defined at line 256"><span class="token sort_Id">s_fun</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#x_256_34" id="x_258_23" title="Defined at line 256"><span class="token sort_Id">x</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#T_256_43" id="T_258_26" title="Defined at line 256"><span class="token sort_Id">T</span></a></span><span class="operator">).</span>

<span class="keyword">rules</span> <span class="layout">// function calls</span>

  <a href="#typeOfExp_160_3" id="typeOfExp_262_3" title="Defined at line 160"><span class="token sort_Id">typeOfExp</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_263_15" id="s_262_13" title="Referenced at line 263, 264"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="cons_Op"><a href="../../src-gen/statix/signatures/Functions-sig.stx/#Call_20_5" id="Call_262_16" title="Defined at ../../src-gen/statix/signatures/Functions-sig.stx line 20"><span class="token sort_Id">Call</span></a><span class="operator">(</span><span class="cons_Var"><a href="#f_263_18" id="f_262_21" title="Referenced at line 263"><span class="token sort_Id">f</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#es_264_19" id="es_262_24" title="Referenced at line 264"><span class="token sort_Id">es</span></a></span><span class="operator">)</span></span><span class="operator">)</span> <span class="operator">=</span> <span class="cons_Var"><a href="#T_263_32" id="T_262_31" title="Referenced at line 263"><span class="token sort_Id">T</span></a></span> <span class="operator">:-</span> <span class="operator">{</span><span class="cons_Var"><a href="#Ts_263_28" id="Ts_262_37" title="Referenced at line 263, 265"><span class="token sort_Id">Ts</span></a></span> <span class="cons_Var"><a href="#Ss_264_26" id="Ss_262_40" title="Referenced at line 264, 265"><span class="token sort_Id">Ss</span></a></span><span class="operator">}</span>
    <a href="#typeOfVar_51_3" id="typeOfVar_263_5" title="Defined at line 51"><span class="token sort_Id">typeOfVar</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_262_13" id="s_263_15" title="Defined at line 262"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#f_262_21" id="f_263_18" title="Defined at line 262"><span class="token sort_Id">f</span></a></span><span class="operator">)</span> <span class="operator">==</span> <span class="cons_Op"><a href="#FUN_130_5" id="FUN_263_24" title="Defined at line 130"><span class="token sort_Id">FUN</span></a><span class="operator">(</span><span class="cons_Var"><a href="#Ts_262_37" id="Ts_263_28" title="Defined at line 262"><span class="token sort_Id">Ts</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#T_262_31" id="T_263_32" title="Defined at line 262"><span class="token sort_Id">T</span></a></span><span class="operator">)</span></span><span class="operator">,</span>
    <a href="#typeOfExps_161_3" id="typeOfExps_264_5" title="Defined at line 161"><span class="token sort_Id">typeOfExps</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_262_13" id="s_264_16" title="Defined at line 262"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#es_262_24" id="es_264_19" title="Defined at line 262"><span class="token sort_Id">es</span></a></span><span class="operator">)</span> <span class="operator">==</span> <span class="cons_Var"><a href="#Ss_262_40" id="Ss_264_26" title="Defined at line 262"><span class="token sort_Id">Ss</span></a></span><span class="operator">,</span>
    <a href="#subtypes_138_7" id="subtypes_265_5" title="Defined at line 138"><span class="token sort_Id">subtypes</span></a><span class="operator">(</span><span class="cons_Var"><a href="#Ss_262_40" id="Ss_265_14" title="Defined at line 262"><span class="token sort_Id">Ss</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#Ts_262_37" id="Ts_265_18" title="Defined at line 262"><span class="token sort_Id">Ts</span></a></span><span class="operator">).</span>

<span class="keyword">rules</span> <span class="layout">// variable declarations</span>

  <span class="layout">// Local variables: In the expression [let ... vardec ... in exp end],</span>
  <span class="layout">// the scope of the declared variable starts just after its vardec</span>
  <span class="layout">// and lasts until the end.</span>

  <a href="#decOk_178_3" id="decOk_273_3" title="Defined at line 178"><span class="token sort_Id">decOk</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_277_16" id="s_273_9" title="Referenced at line 277"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#s_outer_274_16" id="s_outer_273_12" title="Referenced at line 274, 275"><span class="token sort_Id">s_outer</span></a></span><span class="operator">,</span> <span class="cons_Op"><a href="../../src-gen/statix/signatures/Variables-sig.stx/#VarDec_15_5" id="VarDec_273_21" title="Defined at ../../src-gen/statix/signatures/Variables-sig.stx line 15"><span class="token sort_Id">VarDec</span></a><span class="operator">(</span><span class="cons_Var"><a href="#x_277_19" id="x_273_28" title="Referenced at line 277"><span class="token sort_Id">x</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#t_274_25" id="t_273_31" title="Referenced at line 274"><span class="token sort_Id">t</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#e_275_24" id="e_273_34" title="Referenced at line 275"><span class="token sort_Id">e</span></a></span><span class="operator">)</span></span><span class="operator">)</span> <span class="operator">:-</span> <span class="operator">{</span><span class="cons_Var"><a href="#T_274_31" id="T_273_42" title="Referenced at line 274, 276, 277"><span class="token sort_Id">T</span></a></span> <span class="cons_Var"><a href="#S_275_30" id="S_273_44" title="Referenced at line 275, 276"><span class="token sort_Id">S</span></a></span><span class="operator">}</span>
    <a href="#typeOfType_222_3" id="typeOfType_274_5" title="Defined at line 222"><span class="token sort_Id">typeOfType</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_outer_273_12" id="s_outer_274_16" title="Defined at line 273"><span class="token sort_Id">s_outer</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#t_273_31" id="t_274_25" title="Defined at line 273"><span class="token sort_Id">t</span></a></span><span class="operator">)</span> <span class="operator">==</span> <span class="cons_Var"><a href="#T_273_42" id="T_274_31" title="Defined at line 273"><span class="token sort_Id">T</span></a></span><span class="operator">,</span>
    <a href="#typeOfExp_160_3" id="typeOfExp_275_5" title="Defined at line 160"><span class="token sort_Id">typeOfExp</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_outer_273_12" id="s_outer_275_15" title="Defined at line 273"><span class="token sort_Id">s_outer</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#e_273_34" id="e_275_24" title="Defined at line 273"><span class="token sort_Id">e</span></a></span><span class="operator">)</span> <span class="operator">==</span> <span class="cons_Var"><a href="#S_273_44" id="S_275_30" title="Defined at line 273"><span class="token sort_Id">S</span></a></span><span class="operator">,</span>
    <a href="#subtype_132_7" id="subtype_276_5" title="Defined at line 132"><span class="token sort_Id">subtype</span></a><span class="operator">(</span><span class="cons_Var"><a href="#S_273_44" id="S_276_13" title="Defined at line 273"><span class="token sort_Id">S</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#T_273_42" id="T_276_16" title="Defined at line 273"><span class="token sort_Id">T</span></a></span><span class="operator">),</span>
    <a href="#declareVar_49_3" id="declareVar_277_5" title="Defined at line 49"><span class="token sort_Id">declareVar</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_273_9" id="s_277_16" title="Defined at line 273"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#x_273_28" id="x_277_19" title="Defined at line 273"><span class="token sort_Id">x</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#T_273_42" id="T_277_22" title="Defined at line 273"><span class="token sort_Id">T</span></a></span><span class="operator">).</span>

  <a href="#decOk_178_3" id="decOk_279_3" title="Defined at line 178"><span class="token sort_Id">decOk</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_282_16" id="s_279_9" title="Referenced at line 282"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#s_outer_280_15" id="s_outer_279_12" title="Referenced at line 280"><span class="token sort_Id">s_outer</span></a></span><span class="operator">,</span> <span class="cons_Op"><a href="../../src-gen/statix/signatures/Variables-sig.stx/#VarDecNoType_16_5" id="VarDecNoType_279_21" title="Defined at ../../src-gen/statix/signatures/Variables-sig.stx line 16"><span class="token sort_Id">VarDecNoType</span></a><span class="operator">(</span><span class="cons_Var"><a href="#x_282_19" id="x_279_34" title="Referenced at line 282"><span class="token sort_Id">x</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#e_280_24" id="e_279_37" title="Referenced at line 280"><span class="token sort_Id">e</span></a></span><span class="operator">)</span></span><span class="operator">)</span> <span class="operator">:-</span> <span class="operator">{</span><span class="cons_Var"><a href="#T_280_30" id="T_279_45" title="Referenced at line 280, 281, 282"><span class="token sort_Id">T</span></a></span><span class="operator">}</span>
    <a href="#typeOfExp_160_3" id="typeOfExp_280_5" title="Defined at line 160"><span class="token sort_Id">typeOfExp</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_outer_279_12" id="s_outer_280_15" title="Defined at line 279"><span class="token sort_Id">s_outer</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#e_279_37" id="e_280_24" title="Defined at line 279"><span class="token sort_Id">e</span></a></span><span class="operator">)</span> <span class="operator">==</span> <span class="cons_Var"><a href="#T_279_45" id="T_280_30" title="Defined at line 279"><span class="token sort_Id">T</span></a></span><span class="operator">,</span>
    <span class="cons_Var"><a href="#T_279_45" id="T_281_5" title="Defined at line 279"><span class="token sort_Id">T</span></a></span> <span class="operator">!=</span> <span class="cons_Op"><a href="#NIL_127_5" id="NIL_281_10" title="Defined at line 127"><span class="token sort_Id">NIL</span></a><span class="operator">()</span></span><span class="operator">,</span>
    <a href="#declareVar_49_3" id="declareVar_282_5" title="Defined at line 49"><span class="token sort_Id">declareVar</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_279_9" id="s_282_16" title="Defined at line 279"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#x_279_34" id="x_282_19" title="Defined at line 279"><span class="token sort_Id">x</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#T_279_45" id="T_282_22" title="Defined at line 279"><span class="token sort_Id">T</span></a></span><span class="operator">).</span>

<span class="keyword">rules</span> <span class="layout">// arrays</span>

  <a href="#typeOfType_222_3" id="typeOfType_286_3" title="Defined at line 222"><span class="token sort_Id">typeOfType</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_288_16" id="s_286_14" title="Referenced at line 288"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="cons_Op"><a href="../../src-gen/statix/signatures/Arrays-sig.stx/#ArrayTy_16_5" id="ArrayTy_286_17" title="Defined at ../../src-gen/statix/signatures/Arrays-sig.stx line 16"><span class="token sort_Id">ArrayTy</span></a><span class="operator">(</span><span class="cons_Var"><a href="#x_288_23" id="x_286_25" title="Referenced at line 288"><span class="token sort_Id">x</span></a></span><span class="operator">)</span></span><span class="operator">)</span> <span class="operator">=</span> <span class="cons_Op"><a href="#ARRAY_129_5" id="ARRAY_286_31" title="Defined at line 129"><span class="token sort_Id">ARRAY</span></a><span class="operator">(</span><span class="cons_Var"><a href="#T_288_30" id="T_286_37" title="Referenced at line 288"><span class="token sort_Id">T</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#s_arr_287_9" id="s_arr_286_40" title="Referenced at line 287"><span class="token sort_Id">s_arr</span></a></span><span class="operator">)</span></span> <span class="operator">:-</span>
    <span class="keyword">new</span> <span class="cons_Var"><a href="#s_arr_286_40" id="s_arr_287_9" title="Defined at line 286"><span class="token sort_Id">s_arr</span></a></span><span class="operator">,</span> <span class="layout">// unique token to distinghuish the array type</span>
    <a href="#typeOfType_222_3" id="typeOfType_288_5" title="Defined at line 222"><span class="token sort_Id">typeOfType</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_286_14" id="s_288_16" title="Defined at line 286"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="cons_Op"><a href="../../src-gen/statix/signatures/Types-sig.stx/#Tid_16_5" id="Tid_288_19" title="Defined at ../../src-gen/statix/signatures/Types-sig.stx line 16"><span class="token sort_Id">Tid</span></a><span class="operator">(</span><span class="cons_Var"><a href="#x_286_25" id="x_288_23" title="Defined at line 286"><span class="token sort_Id">x</span></a></span><span class="operator">)</span></span><span class="operator">)</span> <span class="operator">==</span> <span class="cons_Var"><a href="#T_286_37" id="T_288_30" title="Defined at line 286"><span class="token sort_Id">T</span></a></span><span class="operator">.</span>

<span class="keyword">rules</span> <span class="layout">// array creation</span>

  <a href="#typeOfExp_160_3" id="typeOfExp_292_3" title="Defined at line 160"><span class="token sort_Id">typeOfExp</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_293_16" id="s_292_13" title="Referenced at line 293, 294, 295"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="cons_Op"><a href="../../src-gen/statix/signatures/Arrays-sig.stx/#Array_15_5" id="Array_292_16" title="Defined at ../../src-gen/statix/signatures/Arrays-sig.stx line 15"><span class="token sort_Id">Array</span></a><span class="operator">(</span><span class="cons_Var"><a href="#x_293_23" id="x_292_22" title="Referenced at line 293"><span class="token sort_Id">x</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#e1_294_18" id="e1_292_25" title="Referenced at line 294"><span class="token sort_Id">e1</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#e2_295_18" id="e2_292_29" title="Referenced at line 295"><span class="token sort_Id">e2</span></a></span><span class="operator">)</span></span><span class="operator">)</span> <span class="operator">=</span> <span class="cons_Op"><a href="#ARRAY_129_5" id="ARRAY_292_36" title="Defined at line 129"><span class="token sort_Id">ARRAY</span></a><span class="operator">(</span><span class="cons_Var"><a href="#T_293_36" id="T_292_42" title="Referenced at line 293, 296"><span class="token sort_Id">T</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#s_arr_293_39" id="s_arr_292_45" title="Referenced at line 293"><span class="token sort_Id">s_arr</span></a></span><span class="operator">)</span></span> <span class="operator">:-</span> <span class="operator">{</span><span class="cons_Var"><a href="#S_295_25" id="S_292_56" title="Referenced at line 295, 296"><span class="token sort_Id">S</span></a></span><span class="operator">}</span>
    <a href="#typeOfType_222_3" id="typeOfType_293_5" title="Defined at line 222"><span class="token sort_Id">typeOfType</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_292_13" id="s_293_16" title="Defined at line 292"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="cons_Op"><a href="../../src-gen/statix/signatures/Types-sig.stx/#Tid_16_5" id="Tid_293_19" title="Defined at ../../src-gen/statix/signatures/Types-sig.stx line 16"><span class="token sort_Id">Tid</span></a><span class="operator">(</span><span class="cons_Var"><a href="#x_292_22" id="x_293_23" title="Defined at line 292"><span class="token sort_Id">x</span></a></span><span class="operator">)</span></span><span class="operator">)</span> <span class="operator">==</span> <span class="cons_Op"><a href="#ARRAY_129_5" id="ARRAY_293_30" title="Defined at line 129"><span class="token sort_Id">ARRAY</span></a><span class="operator">(</span><span class="cons_Var"><a href="#T_292_42" id="T_293_36" title="Defined at line 292"><span class="token sort_Id">T</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#s_arr_292_45" id="s_arr_293_39" title="Defined at line 292"><span class="token sort_Id">s_arr</span></a></span><span class="operator">)</span></span><span class="operator">,</span>
    <a href="#typeOfExp_160_3" id="typeOfExp_294_5" title="Defined at line 160"><span class="token sort_Id">typeOfExp</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_292_13" id="s_294_15" title="Defined at line 292"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#e1_292_25" id="e1_294_18" title="Defined at line 292"><span class="token sort_Id">e1</span></a></span><span class="operator">)</span> <span class="operator">==</span> <span class="cons_Op"><a href="#INT_125_5" id="INT_294_25" title="Defined at line 125"><span class="token sort_Id">INT</span></a><span class="operator">()</span></span><span class="operator">,</span>
    <a href="#typeOfExp_160_3" id="typeOfExp_295_5" title="Defined at line 160"><span class="token sort_Id">typeOfExp</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_292_13" id="s_295_15" title="Defined at line 292"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#e2_292_29" id="e2_295_18" title="Defined at line 292"><span class="token sort_Id">e2</span></a></span><span class="operator">)</span> <span class="operator">==</span> <span class="cons_Var"><a href="#S_292_56" id="S_295_25" title="Defined at line 292"><span class="token sort_Id">S</span></a></span><span class="operator">,</span>
    <a href="#subtype_132_7" id="subtype_296_5" title="Defined at line 132"><span class="token sort_Id">subtype</span></a><span class="operator">(</span><span class="cons_Var"><a href="#S_292_56" id="S_296_13" title="Defined at line 292"><span class="token sort_Id">S</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#T_292_42" id="T_296_16" title="Defined at line 292"><span class="token sort_Id">T</span></a></span><span class="operator">).</span>

<span class="keyword">rules</span> <span class="layout">// array indexing</span>

  <a href="#typeOfLVal_165_3" id="typeOfLVal_300_3" title="Defined at line 165"><span class="token sort_Id">typeOfLVal</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_301_16" id="s_300_14" title="Referenced at line 301, 302"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="cons_Op"><a href="../../src-gen/statix/signatures/Arrays-sig.stx/#Subscript_17_5" id="Subscript_300_17" title="Defined at ../../src-gen/statix/signatures/Arrays-sig.stx line 17"><span class="token sort_Id">Subscript</span></a><span class="operator">(</span><span class="cons_Var"><a href="#e1_301_19" id="e1_300_27" title="Referenced at line 301"><span class="token sort_Id">e1</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#e2_302_18" id="e2_300_31" title="Referenced at line 302"><span class="token sort_Id">e2</span></a></span><span class="operator">)</span></span><span class="operator">)</span> <span class="operator">=</span> <span class="cons_Var"><a href="#T_301_32" id="T_300_38" title="Referenced at line 301"><span class="token sort_Id">T</span></a></span> <span class="operator">:-</span> <span class="operator">{</span><span class="cons_Var"><a href="#s_arr_301_35" id="s_arr_300_44" title="Referenced at line 301"><span class="token sort_Id">s_arr</span></a></span><span class="operator">}</span>
    <a href="#typeOfLVal_165_3" id="typeOfLVal_301_5" title="Defined at line 165"><span class="token sort_Id">typeOfLVal</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_300_14" id="s_301_16" title="Defined at line 300"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#e1_300_27" id="e1_301_19" title="Defined at line 300"><span class="token sort_Id">e1</span></a></span><span class="operator">)</span> <span class="operator">==</span> <span class="cons_Op"><a href="#ARRAY_129_5" id="ARRAY_301_26" title="Defined at line 129"><span class="token sort_Id">ARRAY</span></a><span class="operator">(</span><span class="cons_Var"><a href="#T_300_38" id="T_301_32" title="Defined at line 300"><span class="token sort_Id">T</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#s_arr_300_44" id="s_arr_301_35" title="Defined at line 300"><span class="token sort_Id">s_arr</span></a></span><span class="operator">)</span></span><span class="operator">,</span>
    <a href="#typeOfExp_160_3" id="typeOfExp_302_5" title="Defined at line 160"><span class="token sort_Id">typeOfExp</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_300_14" id="s_302_15" title="Defined at line 300"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#e2_300_31" id="e2_302_18" title="Defined at line 300"><span class="token sort_Id">e2</span></a></span><span class="operator">)</span> <span class="operator">==</span> <span class="cons_Op"><a href="#INT_125_5" id="INT_302_25" title="Defined at line 125"><span class="token sort_Id">INT</span></a><span class="operator">()</span></span><span class="operator">.</span>

<span class="keyword">rules</span> <span class="layout">// statements</span>

  <a href="#typeOfExp_160_3" id="typeOfExp_306_3" title="Defined at line 160"><span class="token sort_Id">typeOfExp</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_307_16" id="s_306_13" title="Referenced at line 307, 308"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="cons_Op"><a href="../../src-gen/statix/signatures/Control-Flow-sig.stx/#Assign_21_5" id="Assign_306_16" title="Defined at ../../src-gen/statix/signatures/Control-Flow-sig.stx line 21"><span class="token sort_Id">Assign</span></a><span class="operator">(</span><span class="cons_Var"><a href="#e1_307_19" id="e1_306_23" title="Referenced at line 307"><span class="token sort_Id">e1</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#e2_308_18" id="e2_306_27" title="Referenced at line 308"><span class="token sort_Id">e2</span></a></span><span class="operator">)</span></span><span class="operator">)</span> <span class="operator">=</span> <span class="cons_Op"><a href="#UNIT_124_5" id="UNIT_306_34" title="Defined at line 124"><span class="token sort_Id">UNIT</span></a><span class="operator">()</span></span> <span class="operator">:-</span> <span class="operator">{</span><span class="cons_Var"><a href="#T_307_26" id="T_306_45" title="Referenced at line 307, 309"><span class="token sort_Id">T</span></a></span> <span class="cons_Var"><a href="#S_308_25" id="S_306_47" title="Referenced at line 308, 309"><span class="token sort_Id">S</span></a></span><span class="operator">}</span>
    <a href="#typeOfLVal_165_3" id="typeOfLVal_307_5" title="Defined at line 165"><span class="token sort_Id">typeOfLVal</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_306_13" id="s_307_16" title="Defined at line 306"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#e1_306_23" id="e1_307_19" title="Defined at line 306"><span class="token sort_Id">e1</span></a></span><span class="operator">)</span> <span class="operator">==</span> <span class="cons_Var"><a href="#T_306_45" id="T_307_26" title="Defined at line 306"><span class="token sort_Id">T</span></a></span><span class="operator">,</span>
    <a href="#typeOfExp_160_3" id="typeOfExp_308_5" title="Defined at line 160"><span class="token sort_Id">typeOfExp</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_306_13" id="s_308_15" title="Defined at line 306"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#e2_306_27" id="e2_308_18" title="Defined at line 306"><span class="token sort_Id">e2</span></a></span><span class="operator">)</span> <span class="operator">==</span> <span class="cons_Var"><a href="#S_306_47" id="S_308_25" title="Defined at line 306"><span class="token sort_Id">S</span></a></span><span class="operator">,</span>
    <a href="#subtype_132_7" id="subtype_309_5" title="Defined at line 132"><span class="token sort_Id">subtype</span></a><span class="operator">(</span><span class="cons_Var"><a href="#S_306_47" id="S_309_13" title="Defined at line 306"><span class="token sort_Id">S</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#T_306_45" id="T_309_16" title="Defined at line 306"><span class="token sort_Id">T</span></a></span><span class="operator">).</span>

<span class="keyword">rules</span>

  <a href="#typeOfLVal_165_3" id="typeOfLVal_313_3" title="Defined at line 165"><span class="token sort_Id">typeOfLVal</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_314_15" id="s_313_14" title="Referenced at line 314"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="cons_Op"><a href="../../src-gen/statix/signatures/Variables-sig.stx/#Var2LValue_18_5" id="Var2LValue_313_17" title="Defined at ../../src-gen/statix/signatures/Variables-sig.stx line 18"><span class="token sort_Id">Var2LValue</span></a><span class="operator">(</span><span class="cons_Op"><a href="../../src-gen/statix/signatures/Variables-sig.stx/#Var_17_5" id="Var_313_28" title="Defined at ../../src-gen/statix/signatures/Variables-sig.stx line 17"><span class="token sort_Id">Var</span></a><span class="operator">(</span><span class="cons_Var"><a href="#x_314_18" id="x_313_32" title="Referenced at line 314"><span class="token sort_Id">x</span></a></span><span class="operator">)</span></span><span class="operator">)</span></span><span class="operator">)</span> <span class="operator">=</span> <span class="cons_Var"><a href="#T_314_24" id="T_313_39" title="Referenced at line 314"><span class="token sort_Id">T</span></a></span> <span class="operator">:-</span>
    <a href="#typeOfVar_51_3" id="typeOfVar_314_5" title="Defined at line 51"><span class="token sort_Id">typeOfVar</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_313_14" id="s_314_15" title="Defined at line 313"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#x_313_32" id="x_314_18" title="Defined at line 313"><span class="token sort_Id">x</span></a></span><span class="operator">)</span> <span class="operator">==</span> <span class="cons_Var"><a href="#T_313_39" id="T_314_24" title="Defined at line 313"><span class="token sort_Id">T</span></a></span><span class="operator">.</span>

  <a href="#typeOfExp_160_3" id="typeOfExp_316_3" title="Defined at line 160"><span class="token sort_Id">typeOfExp</span></a><span class="operator">(</span><span class="cons_Var"><span id="s_316_13" title="Not referenced"><span class="token sort_Id">s</span></span></span><span class="operator">,</span> <span class="cons_Op"><a href="../../src-gen/statix/signatures/Variables-sig.stx/#LValue2Exp_19_5" id="LValue2Exp_316_16" title="Defined at ../../src-gen/statix/signatures/Variables-sig.stx line 19"><span class="token sort_Id">LValue2Exp</span></a><span class="operator">(</span><span class="cons_Var"><span id="lval_316_27" title="Not referenced"><span class="token sort_Id">lval</span></span></span><span class="operator">)</span></span><span class="operator">)</span> <span class="operator">=</span> <a href="#typeOfLVal_165_3" id="typeOfLVal_316_36" title="Defined at line 165"><span class="token sort_Id">typeOfLVal</span></a><span class="operator">(</span><span class="cons_Var">s</span><span class="operator">,</span> <span class="cons_Var">lval</span><span class="operator">).</span>

  <a href="#typeOfExp_160_3" id="typeOfExp_318_3" title="Defined at line 160"><span class="token sort_Id">typeOfExp</span></a><span class="operator">(</span><span class="cons_Var"><span id="s_318_13" title="Not referenced"><span class="token sort_Id">s</span></span></span><span class="operator">,</span> <span class="cons_Op"><a href="../../src-gen/statix/signatures/Variables-sig.stx/#LValue2Exp_19_5" id="LValue2Exp_318_16" title="Defined at ../../src-gen/statix/signatures/Variables-sig.stx line 19"><span class="token sort_Id">LValue2Exp</span></a><span class="operator">(</span><span class="cons_Op"><a href="../../src-gen/statix/signatures/Variables-sig.stx/#Var2LValue_18_5" id="Var2LValue_318_27" title="Defined at ../../src-gen/statix/signatures/Variables-sig.stx line 18"><span class="token sort_Id">Var2LValue</span></a><span class="operator">(</span><span class="cons_Op"><a href="../../src-gen/statix/signatures/Variables-sig.stx/#Var_17_5" id="Var_318_38" title="Defined at ../../src-gen/statix/signatures/Variables-sig.stx line 17"><span class="token sort_Id">Var</span></a><span class="operator">(</span><span class="cons_Var"><span id="x_318_42" title="Not referenced"><span class="token sort_Id">x</span></span></span><span class="operator">)</span></span><span class="operator">)</span></span><span class="operator">)</span></span><span class="operator">)</span> <span class="operator">=</span> <a href="#typeOfVar_51_3" id="typeOfVar_318_50" title="Defined at line 51"><span class="token sort_Id">typeOfVar</span></a><span class="operator">(</span><span class="cons_Var">s</span><span class="operator">,</span> <span class="cons_Var">x</span><span class="operator">).</span>

<span class="keyword">rules</span> <span class="layout">// sequence</span>

  <a href="#typeOfSeq_164_3" id="typeOfSeq_322_3" title="Defined at line 164"><span class="token sort_Id">typeOfSeq</span></a><span class="operator">(</span><span class="cons_Var"><span id="s_322_13" title="Not referenced"><span class="token sort_Id">s</span></span></span><span class="operator">,</span> <span class="operator">[])</span> <span class="operator">=</span> <span class="cons_Op"><a href="#UNIT_124_5" id="UNIT_322_22" title="Defined at line 124"><span class="token sort_Id">UNIT</span></a><span class="operator">()</span></span><span class="operator">.</span>

  <a href="#typeOfSeq_164_3" id="typeOfSeq_324_3" title="Defined at line 164"><span class="token sort_Id">typeOfSeq</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_325_15" id="s_324_13" title="Referenced at line 325"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="operator">[</span><span class="cons_Var"><a href="#e_325_18" id="e_324_17" title="Referenced at line 325"><span class="token sort_Id">e</span></a></span><span class="operator">])</span> <span class="operator">=</span> <span class="cons_Var"><a href="#T_325_24" id="T_324_23" title="Referenced at line 325"><span class="token sort_Id">T</span></a></span> <span class="operator">:-</span>
    <a href="#typeOfExp_160_3" id="typeOfExp_325_5" title="Defined at line 160"><span class="token sort_Id">typeOfExp</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_324_13" id="s_325_15" title="Defined at line 324"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#e_324_17" id="e_325_18" title="Defined at line 324"><span class="token sort_Id">e</span></a></span><span class="operator">)</span> <span class="operator">==</span> <span class="cons_Var"><a href="#T_324_23" id="T_325_24" title="Defined at line 324"><span class="token sort_Id">T</span></a></span><span class="operator">.</span>

  <a href="#typeOfSeq_164_3" id="typeOfSeq_327_3" title="Defined at line 164"><span class="token sort_Id">typeOfSeq</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_328_15" id="s_327_13" title="Referenced at line 328, 329"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="operator">[</span><span class="cons_Var"><a href="#e_328_18" id="e_327_17" title="Referenced at line 328"><span class="token sort_Id">e</span></a></span> <span class="operator">|</span> <span class="cons_Var"><a href="#es_329_18" id="es_327_21" title="Referenced at line 329"><span class="token sort_Id">es</span></a></span><span class="operator">@[_|_]])</span> <span class="operator">=</span> <span class="cons_Var"><a href="#T_329_25" id="T_327_34" title="Referenced at line 329"><span class="token sort_Id">T</span></a></span> <span class="operator">:-</span> <span class="operator">{</span><span class="cons_Var"><a href="#S_328_24" id="S_327_40" title="Referenced at line 328"><span class="token sort_Id">S</span></a></span><span class="operator">}</span>
    <a href="#typeOfExp_160_3" id="typeOfExp_328_5" title="Defined at line 160"><span class="token sort_Id">typeOfExp</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_327_13" id="s_328_15" title="Defined at line 327"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#e_327_17" id="e_328_18" title="Defined at line 327"><span class="token sort_Id">e</span></a></span><span class="operator">)</span> <span class="operator">==</span> <span class="cons_Var"><a href="#S_327_40" id="S_328_24" title="Defined at line 327"><span class="token sort_Id">S</span></a></span><span class="operator">,</span>
    <a href="#typeOfSeq_164_3" id="typeOfSeq_329_5" title="Defined at line 164"><span class="token sort_Id">typeOfSeq</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_327_13" id="s_329_15" title="Defined at line 327"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#es_327_21" id="es_329_18" title="Defined at line 327"><span class="token sort_Id">es</span></a></span><span class="operator">)</span> <span class="operator">==</span> <span class="cons_Var"><a href="#T_327_34" id="T_329_25" title="Defined at line 327"><span class="token sort_Id">T</span></a></span><span class="operator">.</span>

  <a href="#typeOfExp_160_3" id="typeOfExp_331_3" title="Defined at line 160"><span class="token sort_Id">typeOfExp</span></a><span class="operator">(</span><span class="cons_Var"><span id="s_331_13" title="Not referenced"><span class="token sort_Id">s</span></span></span><span class="operator">,</span> <span class="cons_Op"><a href="../../src-gen/statix/signatures/Control-Flow-sig.stx/#Seq_15_5" id="Seq_331_16" title="Defined at ../../src-gen/statix/signatures/Control-Flow-sig.stx line 15"><span class="token sort_Id">Seq</span></a><span class="operator">(</span><span class="cons_Var"><span id="es_331_20" title="Not referenced"><span class="token sort_Id">es</span></span></span><span class="operator">)</span></span><span class="operator">)</span> <span class="operator">=</span> <a href="#typeOfSeq_164_3" id="typeOfSeq_331_27" title="Defined at line 164"><span class="token sort_Id">typeOfSeq</span></a><span class="operator">(</span><span class="cons_Var">s</span><span class="operator">,</span> <span class="cons_Var">es</span><span class="operator">).</span>

  <a href="#typeOfExp_160_3" id="typeOfExp_333_3" title="Defined at line 160"><span class="token sort_Id">typeOfExp</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_334_15" id="s_333_13" title="Referenced at line 334, 335, 336"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="cons_Op"><a href="../../src-gen/statix/signatures/Control-Flow-sig.stx/#If_16_5" id="If_333_16" title="Defined at ../../src-gen/statix/signatures/Control-Flow-sig.stx line 16"><span class="token sort_Id">If</span></a><span class="operator">(</span><span class="cons_Var"><a href="#e1_334_18" id="e1_333_19" title="Referenced at line 334"><span class="token sort_Id">e1</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#e2_335_18" id="e2_333_23" title="Referenced at line 335"><span class="token sort_Id">e2</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#e3_336_18" id="e3_333_27" title="Referenced at line 336"><span class="token sort_Id">e3</span></a></span><span class="operator">)</span></span><span class="operator">)</span> <span class="operator">=</span> <a href="#lub_154_3" id="lub_333_34" title="Defined at line 154"><span class="token sort_Id">lub</span></a><span class="operator">(</span><span class="cons_Var"><a href="#T_335_25" id="T_333_38" title="Referenced at line 335, 337"><span class="token sort_Id">T</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#S_336_25" id="S_333_41" title="Referenced at line 336, 337"><span class="token sort_Id">S</span></a></span><span class="operator">)</span> <span class="operator">:-</span>
    <a href="#typeOfExp_160_3" id="typeOfExp_334_5" title="Defined at line 160"><span class="token sort_Id">typeOfExp</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_333_13" id="s_334_15" title="Defined at line 333"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#e1_333_19" id="e1_334_18" title="Defined at line 333"><span class="token sort_Id">e1</span></a></span><span class="operator">)</span> <span class="operator">==</span> <span class="cons_Op"><a href="#INT_125_5" id="INT_334_25" title="Defined at line 125"><span class="token sort_Id">INT</span></a><span class="operator">()</span></span><span class="operator">,</span>
    <a href="#typeOfExp_160_3" id="typeOfExp_335_5" title="Defined at line 160"><span class="token sort_Id">typeOfExp</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_333_13" id="s_335_15" title="Defined at line 333"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#e2_333_23" id="e2_335_18" title="Defined at line 333"><span class="token sort_Id">e2</span></a></span><span class="operator">)</span> <span class="operator">==</span> <span class="cons_Var"><a href="#T_333_38" id="T_335_25" title="Defined at line 333"><span class="token sort_Id">T</span></a></span><span class="operator">,</span>
    <a href="#typeOfExp_160_3" id="typeOfExp_336_5" title="Defined at line 160"><span class="token sort_Id">typeOfExp</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_333_13" id="s_336_15" title="Defined at line 333"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#e3_333_27" id="e3_336_18" title="Defined at line 333"><span class="token sort_Id">e3</span></a></span><span class="operator">)</span> <span class="operator">==</span> <span class="cons_Var"><a href="#S_333_41" id="S_336_25" title="Defined at line 333"><span class="token sort_Id">S</span></a></span><span class="operator">,</span>
    <a href="#equitype_148_7" id="equitype_337_5" title="Defined at line 148"><span class="token sort_Id">equitype</span></a><span class="operator">(</span><span class="cons_Var"><a href="#S_333_41" id="S_337_14" title="Defined at line 333"><span class="token sort_Id">S</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#T_333_38" id="T_337_17" title="Defined at line 333"><span class="token sort_Id">T</span></a></span><span class="operator">).</span>

  <a href="#typeOfExp_160_3" id="typeOfExp_339_3" title="Defined at line 160"><span class="token sort_Id">typeOfExp</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_340_15" id="s_339_13" title="Referenced at line 340, 341"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="cons_Op"><a href="../../src-gen/statix/signatures/Control-Flow-sig.stx/#IfThen_17_5" id="IfThen_339_16" title="Defined at ../../src-gen/statix/signatures/Control-Flow-sig.stx line 17"><span class="token sort_Id">IfThen</span></a><span class="operator">(</span><span class="cons_Var"><a href="#e1_340_18" id="e1_339_23" title="Referenced at line 340"><span class="token sort_Id">e1</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#e2_341_18" id="e2_339_27" title="Referenced at line 341"><span class="token sort_Id">e2</span></a></span><span class="operator">)</span></span><span class="operator">)</span> <span class="operator">=</span> <span class="cons_Op"><a href="#UNIT_124_5" id="UNIT_339_34" title="Defined at line 124"><span class="token sort_Id">UNIT</span></a><span class="operator">()</span></span> <span class="operator">:-</span>
    <a href="#typeOfExp_160_3" id="typeOfExp_340_5" title="Defined at line 160"><span class="token sort_Id">typeOfExp</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_339_13" id="s_340_15" title="Defined at line 339"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#e1_339_23" id="e1_340_18" title="Defined at line 339"><span class="token sort_Id">e1</span></a></span><span class="operator">)</span> <span class="operator">==</span> <span class="cons_Op"><a href="#INT_125_5" id="INT_340_25" title="Defined at line 125"><span class="token sort_Id">INT</span></a><span class="operator">()</span></span><span class="operator">,</span>
    <a href="#typeOfExp_160_3" id="typeOfExp_341_5" title="Defined at line 160"><span class="token sort_Id">typeOfExp</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_339_13" id="s_341_15" title="Defined at line 339"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#e2_339_27" id="e2_341_18" title="Defined at line 339"><span class="token sort_Id">e2</span></a></span><span class="operator">)</span> <span class="operator">==</span> <span class="cons_Op"><a href="#UNIT_124_5" id="UNIT_341_25" title="Defined at line 124"><span class="token sort_Id">UNIT</span></a><span class="operator">()</span></span><span class="operator">.</span>

  <a href="#typeOfExp_160_3" id="typeOfExp_343_3" title="Defined at line 160"><span class="token sort_Id">typeOfExp</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_344_29" id="s_343_13" title="Referenced at line 344"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="cons_Op"><a href="../../src-gen/statix/signatures/Control-Flow-sig.stx/#While_18_5" id="While_343_16" title="Defined at ../../src-gen/statix/signatures/Control-Flow-sig.stx line 18"><span class="token sort_Id">While</span></a><span class="operator">(</span><span class="cons_Var"><a href="#e1_346_23" id="e1_343_22" title="Referenced at line 346"><span class="token sort_Id">e1</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#e2_347_23" id="e2_343_26" title="Referenced at line 347"><span class="token sort_Id">e2</span></a></span><span class="operator">)</span></span><span class="operator">)</span> <span class="operator">=</span> <span class="cons_Op"><a href="#UNIT_124_5" id="UNIT_343_33" title="Defined at line 124"><span class="token sort_Id">UNIT</span></a><span class="operator">()</span></span> <span class="operator">:-</span> <span class="operator">{</span><span class="cons_Var"><a href="#s_loop_344_9" id="s_loop_343_44" title="Referenced at line 344, 345, 346, 347"><span class="token sort_Id">s_loop</span></a></span><span class="operator">}</span>
    <span class="keyword">new</span> <span class="cons_Var"><a href="#s_loop_343_44" id="s_loop_344_9" title="Defined at line 343"><span class="token sort_Id">s_loop</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#s_loop_343_44" id="s_loop_344_17" title="Defined at line 343"><span class="token sort_Id">s_loop</span></a></span> <span class="operator">-</span><span class="cons_Label"><a href="#P_32_12" id="P_344_25" title="Defined at line 32"><span class="token sort_Id">P</span></a></span><span class="operator">-&gt;</span> <span class="cons_Var"><a href="#s_343_13" id="s_344_29" title="Defined at line 343"><span class="token sort_Id">s</span></a></span><span class="operator">,</span>
    <span class="operator">!</span><span class="cons_Label"><a href="#loop_45_5" id="loop_345_6" title="Defined at line 45"><span class="token sort_Id">loop</span></a></span><span class="operator">[]</span> <span class="keyword">in</span> <span class="cons_Var"><a href="#s_loop_343_44" id="s_loop_345_16" title="Defined at line 343"><span class="token sort_Id">s_loop</span></a></span><span class="operator">,</span>
    <a href="#typeOfExp_160_3" id="typeOfExp_346_5" title="Defined at line 160"><span class="token sort_Id">typeOfExp</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_loop_343_44" id="s_loop_346_15" title="Defined at line 343"><span class="token sort_Id">s_loop</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#e1_343_22" id="e1_346_23" title="Defined at line 343"><span class="token sort_Id">e1</span></a></span><span class="operator">)</span> <span class="operator">==</span> <span class="cons_Op"><a href="#INT_125_5" id="INT_346_30" title="Defined at line 125"><span class="token sort_Id">INT</span></a><span class="operator">()</span></span><span class="operator">,</span>
    <a href="#typeOfExp_160_3" id="typeOfExp_347_5" title="Defined at line 160"><span class="token sort_Id">typeOfExp</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_loop_343_44" id="s_loop_347_15" title="Defined at line 343"><span class="token sort_Id">s_loop</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#e2_343_26" id="e2_347_23" title="Defined at line 343"><span class="token sort_Id">e2</span></a></span><span class="operator">)</span> <span class="operator">==</span> <span class="cons_Op"><a href="#UNIT_124_5" id="UNIT_347_30" title="Defined at line 124"><span class="token sort_Id">UNIT</span></a><span class="operator">()</span></span><span class="operator">.</span>

  <a href="#typeOfExp_160_3" id="typeOfExp_349_3" title="Defined at line 160"><span class="token sort_Id">typeOfExp</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_351_16" id="s_349_13" title="Referenced at line 351, 354, 355"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="cons_Op"><a href="../../src-gen/statix/signatures/Control-Flow-sig.stx/#For_19_5" id="For_349_16" title="Defined at ../../src-gen/statix/signatures/Control-Flow-sig.stx line 19"><span class="token sort_Id">For</span></a><span class="operator">(</span><span class="cons_Op"><a href="../../src-gen/statix/signatures/Variables-sig.stx/#Var_17_5" id="Var_349_20" title="Defined at ../../src-gen/statix/signatures/Variables-sig.stx line 17"><span class="token sort_Id">Var</span></a><span class="operator">(</span><span class="cons_Var"><a href="#x_352_23" id="x_349_24" title="Referenced at line 352"><span class="token sort_Id">x</span></a></span><span class="operator">)</span></span><span class="operator">,</span> <span class="cons_Var"><a href="#e1_354_18" id="e1_349_28" title="Referenced at line 354"><span class="token sort_Id">e1</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#e2_355_18" id="e2_349_32" title="Referenced at line 355"><span class="token sort_Id">e2</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#e3_356_22" id="e3_349_36" title="Referenced at line 356"><span class="token sort_Id">e3</span></a></span><span class="operator">)</span></span><span class="operator">)</span> <span class="operator">=</span> <span class="cons_Op"><a href="#UNIT_124_5" id="UNIT_349_43" title="Defined at line 124"><span class="token sort_Id">UNIT</span></a><span class="operator">()</span></span> <span class="operator">:-</span> <span class="operator">{</span><span class="cons_Var"><a href="#s_for_350_9" id="s_for_349_54" title="Referenced at line 350, 351, 352, 353, 356"><span class="token sort_Id">s_for</span></a></span><span class="operator">}</span>
    <span class="keyword">new</span> <span class="cons_Var"><a href="#s_for_349_54" id="s_for_350_9" title="Defined at line 349"><span class="token sort_Id">s_for</span></a></span><span class="operator">,</span>
    <span class="cons_Var"><a href="#s_for_349_54" id="s_for_351_5" title="Defined at line 349"><span class="token sort_Id">s_for</span></a></span> <span class="operator">-</span><span class="cons_Label"><a href="#P_32_12" id="P_351_12" title="Defined at line 32"><span class="token sort_Id">P</span></a></span><span class="operator">-&gt;</span> <span class="cons_Var"><a href="#s_349_13" id="s_351_16" title="Defined at line 349"><span class="token sort_Id">s</span></a></span><span class="operator">,</span>
    <a href="#declareVar_49_3" id="declareVar_352_5" title="Defined at line 49"><span class="token sort_Id">declareVar</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_for_349_54" id="s_for_352_16" title="Defined at line 349"><span class="token sort_Id">s_for</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#x_349_24" id="x_352_23" title="Defined at line 349"><span class="token sort_Id">x</span></a></span><span class="operator">,</span> <span class="cons_Op"><a href="#INT_125_5" id="INT_352_26" title="Defined at line 125"><span class="token sort_Id">INT</span></a><span class="operator">()</span></span><span class="operator">),</span>
    <span class="operator">!</span><span class="cons_Label"><a href="#loop_45_5" id="loop_353_6" title="Defined at line 45"><span class="token sort_Id">loop</span></a></span><span class="operator">[]</span> <span class="keyword">in</span> <span class="cons_Var"><a href="#s_for_349_54" id="s_for_353_16" title="Defined at line 349"><span class="token sort_Id">s_for</span></a></span><span class="operator">,</span>
    <a href="#typeOfExp_160_3" id="typeOfExp_354_5" title="Defined at line 160"><span class="token sort_Id">typeOfExp</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_349_13" id="s_354_15" title="Defined at line 349"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#e1_349_28" id="e1_354_18" title="Defined at line 349"><span class="token sort_Id">e1</span></a></span><span class="operator">)</span> <span class="operator">==</span> <span class="cons_Op"><a href="#INT_125_5" id="INT_354_25" title="Defined at line 125"><span class="token sort_Id">INT</span></a><span class="operator">()</span></span><span class="operator">,</span>
    <a href="#typeOfExp_160_3" id="typeOfExp_355_5" title="Defined at line 160"><span class="token sort_Id">typeOfExp</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_349_13" id="s_355_15" title="Defined at line 349"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#e2_349_32" id="e2_355_18" title="Defined at line 349"><span class="token sort_Id">e2</span></a></span><span class="operator">)</span> <span class="operator">==</span> <span class="cons_Op"><a href="#INT_125_5" id="INT_355_25" title="Defined at line 125"><span class="token sort_Id">INT</span></a><span class="operator">()</span></span><span class="operator">,</span>
    <a href="#typeOfExp_160_3" id="typeOfExp_356_5" title="Defined at line 160"><span class="token sort_Id">typeOfExp</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_for_349_54" id="s_for_356_15" title="Defined at line 349"><span class="token sort_Id">s_for</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#e3_349_36" id="e3_356_22" title="Defined at line 349"><span class="token sort_Id">e3</span></a></span><span class="operator">)</span> <span class="operator">==</span> <span class="cons_Op"><a href="#UNIT_124_5" id="UNIT_356_29" title="Defined at line 124"><span class="token sort_Id">UNIT</span></a><span class="operator">()</span></span><span class="operator">.</span>

  <a href="#typeOfExp_160_3" id="typeOfExp_358_3" title="Defined at line 160"><span class="token sort_Id">typeOfExp</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_362_11" id="s_358_13" title="Referenced at line 362"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="cons_Op"><a href="../../src-gen/statix/signatures/Control-Flow-sig.stx/#Break_20_5" id="Break_358_16" title="Defined at ../../src-gen/statix/signatures/Control-Flow-sig.stx line 20"><span class="token sort_Id">Break</span></a><span class="operator">()</span></span><span class="operator">)</span> <span class="operator">=</span> <span class="cons_Op"><a href="#UNIT_124_5" id="UNIT_358_27" title="Defined at line 124"><span class="token sort_Id">UNIT</span></a><span class="operator">()</span></span> <span class="operator">:-</span>
    <span class="keyword">query</span> <span class="cons_Label"><a href="#loop_45_5" id="loop_359_11" title="Defined at line 45"><span class="token sort_Id">loop</span></a></span>
      <span class="keyword">filter</span> <span class="cons_Closure"><span class="cons_Label"><a href="#P_32_12" id="P_360_14" title="Defined at line 32"><span class="token sort_Id">P</span></a></span><span class="operator">*</span></span>
      <span class="keyword">min</span> <span class="operator">$</span> <span class="operator">&lt;</span> <span class="cons_Label"><a href="#P_32_12" id="P_361_15" title="Defined at line 32"><span class="token sort_Id">P</span></a></span>
       <span class="keyword">in</span> <span class="cons_Var"><a href="#s_358_13" id="s_362_11" title="Defined at line 358"><span class="token sort_Id">s</span></a></span> <span class="operator">|-&gt;</span> <span class="operator">[_].</span>

<span class="keyword">rules</span> <span class="layout">// literals</span>

  <a href="#typeOfExp_160_3" id="typeOfExp_366_3" title="Defined at line 160"><span class="token sort_Id">typeOfExp</span></a><span class="operator">(</span><span class="cons_Var"><span id="s_366_13" title="Not referenced"><span class="token sort_Id">s</span></span></span><span class="operator">,</span> <span class="cons_Op"><a href="../../src-gen/statix/signatures/Numbers-sig.stx/#Int_16_5" id="Int_366_16" title="Defined at ../../src-gen/statix/signatures/Numbers-sig.stx line 16"><span class="token sort_Id">Int</span></a><span class="operator">(</span><span class="cons_Var"><a href="#i_367_6" id="i_366_20" title="Referenced at line 367"><span class="token sort_Id">i</span></a></span><span class="operator">)</span></span><span class="operator">)</span> <span class="operator">=</span> <span class="cons_Op"><a href="#INT_125_5" id="INT_366_26" title="Defined at line 125"><span class="token sort_Id">INT</span></a><span class="operator">()</span></span> <span class="operator">:-</span>
    <span class="operator">@</span><span class="cons_Var"><a href="#i_366_20" id="i_367_6" title="Defined at line 366"><span class="token sort_Id">i</span></a></span><span class="operator">.</span>lit <span class="operator">:=</span> <span class="cons_Var"><a href="#i_366_20" id="i_367_15" title="Defined at line 366"><span class="token sort_Id">i</span></a></span><span class="operator">.</span>

<span class="keyword">rules</span> <span class="layout">// operators</span>

  <a href="#typeOfExp_160_3" id="typeOfExp_371_3" title="Defined at line 160"><span class="token sort_Id">typeOfExp</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_372_15" id="s_371_13" title="Referenced at line 372"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="cons_Op"><a href="../../src-gen/statix/signatures/Numbers-sig.stx/#Uminus_17_5" id="Uminus_371_16" title="Defined at ../../src-gen/statix/signatures/Numbers-sig.stx line 17"><span class="token sort_Id">Uminus</span></a><span class="operator">(</span><span class="cons_Var"><a href="#e_372_18" id="e_371_23" title="Referenced at line 372"><span class="token sort_Id">e</span></a></span><span class="operator">)</span></span><span class="operator">)</span> <span class="operator">=</span> <span class="cons_Op"><a href="#INT_125_5" id="INT_371_29" title="Defined at line 125"><span class="token sort_Id">INT</span></a><span class="operator">()</span></span> <span class="operator">:-</span>
    <a href="#typeOfExp_160_3" id="typeOfExp_372_5" title="Defined at line 160"><span class="token sort_Id">typeOfExp</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_371_13" id="s_372_15" title="Defined at line 371"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#e_371_23" id="e_372_18" title="Defined at line 371"><span class="token sort_Id">e</span></a></span><span class="operator">)</span> <span class="operator">==</span> <span class="cons_Op"><a href="#INT_125_5" id="INT_372_24" title="Defined at line 125"><span class="token sort_Id">INT</span></a><span class="operator">()</span></span><span class="operator">.</span>

  <a href="#typeOfExp_160_3" id="typeOfExp_374_3" title="Defined at line 160"><span class="token sort_Id">typeOfExp</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_375_15" id="s_374_13" title="Referenced at line 375, 376"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="cons_Op"><a href="../../src-gen/statix/signatures/Numbers-sig.stx/#Divide_19_5" id="Divide_374_16" title="Defined at ../../src-gen/statix/signatures/Numbers-sig.stx line 19"><span class="token sort_Id">Divide</span></a><span class="operator">(</span><span class="cons_Var"><a href="#e1_375_18" id="e1_374_23" title="Referenced at line 375"><span class="token sort_Id">e1</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#e2_376_18" id="e2_374_27" title="Referenced at line 376"><span class="token sort_Id">e2</span></a></span><span class="operator">)</span></span><span class="operator">)</span> <span class="operator">=</span> <span class="cons_Op"><a href="#INT_125_5" id="INT_374_34" title="Defined at line 125"><span class="token sort_Id">INT</span></a><span class="operator">()</span></span> <span class="operator">:-</span>
    <a href="#typeOfExp_160_3" id="typeOfExp_375_5" title="Defined at line 160"><span class="token sort_Id">typeOfExp</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_374_13" id="s_375_15" title="Defined at line 374"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#e1_374_23" id="e1_375_18" title="Defined at line 374"><span class="token sort_Id">e1</span></a></span><span class="operator">)</span> <span class="operator">==</span> <span class="cons_Op"><a href="#INT_125_5" id="INT_375_25" title="Defined at line 125"><span class="token sort_Id">INT</span></a><span class="operator">()</span></span><span class="operator">,</span>
    <a href="#typeOfExp_160_3" id="typeOfExp_376_5" title="Defined at line 160"><span class="token sort_Id">typeOfExp</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_374_13" id="s_376_15" title="Defined at line 374"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#e2_374_27" id="e2_376_18" title="Defined at line 374"><span class="token sort_Id">e2</span></a></span><span class="operator">)</span> <span class="operator">==</span> <span class="cons_Op"><a href="#INT_125_5" id="INT_376_25" title="Defined at line 125"><span class="token sort_Id">INT</span></a><span class="operator">()</span></span><span class="operator">.</span>

  <a href="#typeOfExp_160_3" id="typeOfExp_378_3" title="Defined at line 160"><span class="token sort_Id">typeOfExp</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_379_15" id="s_378_13" title="Referenced at line 379, 380"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="cons_Op"><a href="../../src-gen/statix/signatures/Numbers-sig.stx/#Times_18_5" id="Times_378_16" title="Defined at ../../src-gen/statix/signatures/Numbers-sig.stx line 18"><span class="token sort_Id">Times</span></a><span class="operator">(</span><span class="cons_Var"><a href="#e1_379_18" id="e1_378_22" title="Referenced at line 379"><span class="token sort_Id">e1</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#e2_380_18" id="e2_378_26" title="Referenced at line 380"><span class="token sort_Id">e2</span></a></span><span class="operator">)</span></span><span class="operator">)</span> <span class="operator">=</span> <span class="cons_Op"><a href="#INT_125_5" id="INT_378_33" title="Defined at line 125"><span class="token sort_Id">INT</span></a><span class="operator">()</span></span> <span class="operator">:-</span>
    <a href="#typeOfExp_160_3" id="typeOfExp_379_5" title="Defined at line 160"><span class="token sort_Id">typeOfExp</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_378_13" id="s_379_15" title="Defined at line 378"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#e1_378_22" id="e1_379_18" title="Defined at line 378"><span class="token sort_Id">e1</span></a></span><span class="operator">)</span> <span class="operator">==</span> <span class="cons_Op"><a href="#INT_125_5" id="INT_379_25" title="Defined at line 125"><span class="token sort_Id">INT</span></a><span class="operator">()</span></span><span class="operator">,</span>
    <a href="#typeOfExp_160_3" id="typeOfExp_380_5" title="Defined at line 160"><span class="token sort_Id">typeOfExp</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_378_13" id="s_380_15" title="Defined at line 378"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#e2_378_26" id="e2_380_18" title="Defined at line 378"><span class="token sort_Id">e2</span></a></span><span class="operator">)</span> <span class="operator">==</span> <span class="cons_Op"><a href="#INT_125_5" id="INT_380_25" title="Defined at line 125"><span class="token sort_Id">INT</span></a><span class="operator">()</span></span><span class="operator">.</span>

  <a href="#typeOfExp_160_3" id="typeOfExp_382_3" title="Defined at line 160"><span class="token sort_Id">typeOfExp</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_383_15" id="s_382_13" title="Referenced at line 383, 384"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="cons_Op"><a href="../../src-gen/statix/signatures/Numbers-sig.stx/#Minus_21_5" id="Minus_382_16" title="Defined at ../../src-gen/statix/signatures/Numbers-sig.stx line 21"><span class="token sort_Id">Minus</span></a><span class="operator">(</span><span class="cons_Var"><a href="#e1_383_18" id="e1_382_22" title="Referenced at line 383"><span class="token sort_Id">e1</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#e2_384_18" id="e2_382_26" title="Referenced at line 384"><span class="token sort_Id">e2</span></a></span><span class="operator">)</span></span><span class="operator">)</span> <span class="operator">=</span> <span class="cons_Op"><a href="#INT_125_5" id="INT_382_33" title="Defined at line 125"><span class="token sort_Id">INT</span></a><span class="operator">()</span></span> <span class="operator">:-</span>
    <a href="#typeOfExp_160_3" id="typeOfExp_383_5" title="Defined at line 160"><span class="token sort_Id">typeOfExp</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_382_13" id="s_383_15" title="Defined at line 382"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#e1_382_22" id="e1_383_18" title="Defined at line 382"><span class="token sort_Id">e1</span></a></span><span class="operator">)</span> <span class="operator">==</span> <span class="cons_Op"><a href="#INT_125_5" id="INT_383_25" title="Defined at line 125"><span class="token sort_Id">INT</span></a><span class="operator">()</span></span><span class="operator">,</span>
    <a href="#typeOfExp_160_3" id="typeOfExp_384_5" title="Defined at line 160"><span class="token sort_Id">typeOfExp</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_382_13" id="s_384_15" title="Defined at line 382"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#e2_382_26" id="e2_384_18" title="Defined at line 382"><span class="token sort_Id">e2</span></a></span><span class="operator">)</span> <span class="operator">==</span> <span class="cons_Op"><a href="#INT_125_5" id="INT_384_25" title="Defined at line 125"><span class="token sort_Id">INT</span></a><span class="operator">()</span></span><span class="operator">.</span>

  <a href="#typeOfExp_160_3" id="typeOfExp_386_3" title="Defined at line 160"><span class="token sort_Id">typeOfExp</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_387_15" id="s_386_13" title="Referenced at line 387, 388"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="cons_Op"><a href="../../src-gen/statix/signatures/Numbers-sig.stx/#Plus_20_5" id="Plus_386_16" title="Defined at ../../src-gen/statix/signatures/Numbers-sig.stx line 20"><span class="token sort_Id">Plus</span></a><span class="operator">(</span><span class="cons_Var"><a href="#e1_387_18" id="e1_386_21" title="Referenced at line 387"><span class="token sort_Id">e1</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#e2_388_18" id="e2_386_25" title="Referenced at line 388"><span class="token sort_Id">e2</span></a></span><span class="operator">)</span></span><span class="operator">)</span> <span class="operator">=</span> <span class="cons_Op"><a href="#INT_125_5" id="INT_386_32" title="Defined at line 125"><span class="token sort_Id">INT</span></a><span class="operator">()</span></span> <span class="operator">:-</span>
    <a href="#typeOfExp_160_3" id="typeOfExp_387_5" title="Defined at line 160"><span class="token sort_Id">typeOfExp</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_386_13" id="s_387_15" title="Defined at line 386"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#e1_386_21" id="e1_387_18" title="Defined at line 386"><span class="token sort_Id">e1</span></a></span><span class="operator">)</span> <span class="operator">==</span> <span class="cons_Op"><a href="#INT_125_5" id="INT_387_25" title="Defined at line 125"><span class="token sort_Id">INT</span></a><span class="operator">()</span></span><span class="operator">,</span>
    <a href="#typeOfExp_160_3" id="typeOfExp_388_5" title="Defined at line 160"><span class="token sort_Id">typeOfExp</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_386_13" id="s_388_15" title="Defined at line 386"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#e2_386_25" id="e2_388_18" title="Defined at line 386"><span class="token sort_Id">e2</span></a></span><span class="operator">)</span> <span class="operator">==</span> <span class="cons_Op"><a href="#INT_125_5" id="INT_388_25" title="Defined at line 125"><span class="token sort_Id">INT</span></a><span class="operator">()</span></span><span class="operator">.</span>

  <a href="#typeOfExp_160_3" id="typeOfExp_390_3" title="Defined at line 160"><span class="token sort_Id">typeOfExp</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_391_15" id="s_390_13" title="Referenced at line 391, 392"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="cons_Op"><a href="../../src-gen/statix/signatures/Numbers-sig.stx/#Eq_22_5" id="Eq_390_16" title="Defined at ../../src-gen/statix/signatures/Numbers-sig.stx line 22"><span class="token sort_Id">Eq</span></a><span class="operator">(</span><span class="cons_Var"><a href="#e1_391_18" id="e1_390_19" title="Referenced at line 391"><span class="token sort_Id">e1</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#e2_392_18" id="e2_390_23" title="Referenced at line 392"><span class="token sort_Id">e2</span></a></span><span class="operator">)</span></span><span class="operator">)</span> <span class="operator">=</span> <span class="cons_Op"><a href="#INT_125_5" id="INT_390_30" title="Defined at line 125"><span class="token sort_Id">INT</span></a><span class="operator">()</span></span> <span class="operator">:-</span> <span class="operator">{</span><span class="cons_Var"><a href="#T_391_25" id="T_390_40" title="Referenced at line 391, 393"><span class="token sort_Id">T</span></a></span> <span class="cons_Var"><a href="#S_392_25" id="S_390_42" title="Referenced at line 392, 393"><span class="token sort_Id">S</span></a></span><span class="operator">}</span>
    <a href="#typeOfExp_160_3" id="typeOfExp_391_5" title="Defined at line 160"><span class="token sort_Id">typeOfExp</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_390_13" id="s_391_15" title="Defined at line 390"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#e1_390_19" id="e1_391_18" title="Defined at line 390"><span class="token sort_Id">e1</span></a></span><span class="operator">)</span> <span class="operator">==</span> <span class="cons_Var"><a href="#T_390_40" id="T_391_25" title="Defined at line 390"><span class="token sort_Id">T</span></a></span><span class="operator">,</span>
    <a href="#typeOfExp_160_3" id="typeOfExp_392_5" title="Defined at line 160"><span class="token sort_Id">typeOfExp</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_390_13" id="s_392_15" title="Defined at line 390"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#e2_390_23" id="e2_392_18" title="Defined at line 390"><span class="token sort_Id">e2</span></a></span><span class="operator">)</span> <span class="operator">==</span> <span class="cons_Var"><a href="#S_390_42" id="S_392_25" title="Defined at line 390"><span class="token sort_Id">S</span></a></span><span class="operator">,</span>
    <a href="#equitype_148_7" id="equitype_393_5" title="Defined at line 148"><span class="token sort_Id">equitype</span></a><span class="operator">(</span><span class="cons_Var"><a href="#T_390_40" id="T_393_14" title="Defined at line 390"><span class="token sort_Id">T</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#S_390_42" id="S_393_17" title="Defined at line 390"><span class="token sort_Id">S</span></a></span><span class="operator">).</span>
    <span class="layout">// TODO: does Eq work for all types?</span>

  <a href="#typeOfExp_160_3" id="typeOfExp_396_3" title="Defined at line 160"><span class="token sort_Id">typeOfExp</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_397_15" id="s_396_13" title="Referenced at line 397, 398"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="cons_Op"><a href="../../src-gen/statix/signatures/Numbers-sig.stx/#Neq_23_5" id="Neq_396_16" title="Defined at ../../src-gen/statix/signatures/Numbers-sig.stx line 23"><span class="token sort_Id">Neq</span></a><span class="operator">(</span><span class="cons_Var"><a href="#e1_397_18" id="e1_396_20" title="Referenced at line 397"><span class="token sort_Id">e1</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#e2_398_18" id="e2_396_24" title="Referenced at line 398"><span class="token sort_Id">e2</span></a></span><span class="operator">)</span></span><span class="operator">)</span> <span class="operator">=</span> <span class="cons_Op"><a href="#INT_125_5" id="INT_396_31" title="Defined at line 125"><span class="token sort_Id">INT</span></a><span class="operator">()</span></span> <span class="operator">:-</span> <span class="operator">{</span><span class="cons_Var"><a href="#T_397_25" id="T_396_41" title="Referenced at line 397, 399"><span class="token sort_Id">T</span></a></span> <span class="cons_Var"><a href="#S_398_25" id="S_396_43" title="Referenced at line 398, 399"><span class="token sort_Id">S</span></a></span><span class="operator">}</span>
    <a href="#typeOfExp_160_3" id="typeOfExp_397_5" title="Defined at line 160"><span class="token sort_Id">typeOfExp</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_396_13" id="s_397_15" title="Defined at line 396"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#e1_396_20" id="e1_397_18" title="Defined at line 396"><span class="token sort_Id">e1</span></a></span><span class="operator">)</span> <span class="operator">==</span> <span class="cons_Var"><a href="#T_396_41" id="T_397_25" title="Defined at line 396"><span class="token sort_Id">T</span></a></span><span class="operator">,</span>
    <a href="#typeOfExp_160_3" id="typeOfExp_398_5" title="Defined at line 160"><span class="token sort_Id">typeOfExp</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_396_13" id="s_398_15" title="Defined at line 396"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#e2_396_24" id="e2_398_18" title="Defined at line 396"><span class="token sort_Id">e2</span></a></span><span class="operator">)</span> <span class="operator">==</span> <span class="cons_Var"><a href="#S_396_43" id="S_398_25" title="Defined at line 396"><span class="token sort_Id">S</span></a></span><span class="operator">,</span>
    <a href="#equitype_148_7" id="equitype_399_5" title="Defined at line 148"><span class="token sort_Id">equitype</span></a><span class="operator">(</span><span class="cons_Var"><a href="#T_396_41" id="T_399_14" title="Defined at line 396"><span class="token sort_Id">T</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#S_396_43" id="S_399_17" title="Defined at line 396"><span class="token sort_Id">S</span></a></span><span class="operator">).</span>
    <span class="layout">// TODO: does Neq work for all types?</span>

  <a href="#typeOfExp_160_3" id="typeOfExp_402_3" title="Defined at line 160"><span class="token sort_Id">typeOfExp</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_403_15" id="s_402_13" title="Referenced at line 403, 404"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="cons_Op"><a href="../../src-gen/statix/signatures/Numbers-sig.stx/#Gt_24_5" id="Gt_402_16" title="Defined at ../../src-gen/statix/signatures/Numbers-sig.stx line 24"><span class="token sort_Id">Gt</span></a><span class="operator">(</span><span class="cons_Var"><a href="#e1_403_18" id="e1_402_19" title="Referenced at line 403"><span class="token sort_Id">e1</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#e2_404_18" id="e2_402_23" title="Referenced at line 404"><span class="token sort_Id">e2</span></a></span><span class="operator">)</span></span><span class="operator">)</span> <span class="operator">=</span> <span class="cons_Op"><a href="#INT_125_5" id="INT_402_30" title="Defined at line 125"><span class="token sort_Id">INT</span></a><span class="operator">()</span></span> <span class="operator">:-</span>
    <a href="#typeOfExp_160_3" id="typeOfExp_403_5" title="Defined at line 160"><span class="token sort_Id">typeOfExp</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_402_13" id="s_403_15" title="Defined at line 402"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#e1_402_19" id="e1_403_18" title="Defined at line 402"><span class="token sort_Id">e1</span></a></span><span class="operator">)</span> <span class="operator">==</span> <span class="cons_Op"><a href="#INT_125_5" id="INT_403_25" title="Defined at line 125"><span class="token sort_Id">INT</span></a><span class="operator">()</span></span><span class="operator">,</span>
    <a href="#typeOfExp_160_3" id="typeOfExp_404_5" title="Defined at line 160"><span class="token sort_Id">typeOfExp</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_402_13" id="s_404_15" title="Defined at line 402"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#e2_402_23" id="e2_404_18" title="Defined at line 402"><span class="token sort_Id">e2</span></a></span><span class="operator">)</span> <span class="operator">==</span> <span class="cons_Op"><a href="#INT_125_5" id="INT_404_25" title="Defined at line 125"><span class="token sort_Id">INT</span></a><span class="operator">()</span></span><span class="operator">.</span>
    <span class="layout">// TODO: does Gt work for more types?</span>

  <a href="#typeOfExp_160_3" id="typeOfExp_407_3" title="Defined at line 160"><span class="token sort_Id">typeOfExp</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_408_15" id="s_407_13" title="Referenced at line 408, 409"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="cons_Op"><a href="../../src-gen/statix/signatures/Numbers-sig.stx/#Lt_25_5" id="Lt_407_16" title="Defined at ../../src-gen/statix/signatures/Numbers-sig.stx line 25"><span class="token sort_Id">Lt</span></a><span class="operator">(</span><span class="cons_Var"><a href="#e1_408_18" id="e1_407_19" title="Referenced at line 408"><span class="token sort_Id">e1</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#e2_409_18" id="e2_407_23" title="Referenced at line 409"><span class="token sort_Id">e2</span></a></span><span class="operator">)</span></span><span class="operator">)</span> <span class="operator">=</span> <span class="cons_Op"><a href="#INT_125_5" id="INT_407_30" title="Defined at line 125"><span class="token sort_Id">INT</span></a><span class="operator">()</span></span> <span class="operator">:-</span>
    <a href="#typeOfExp_160_3" id="typeOfExp_408_5" title="Defined at line 160"><span class="token sort_Id">typeOfExp</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_407_13" id="s_408_15" title="Defined at line 407"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#e1_407_19" id="e1_408_18" title="Defined at line 407"><span class="token sort_Id">e1</span></a></span><span class="operator">)</span> <span class="operator">==</span> <span class="cons_Op"><a href="#INT_125_5" id="INT_408_25" title="Defined at line 125"><span class="token sort_Id">INT</span></a><span class="operator">()</span></span><span class="operator">,</span>
    <a href="#typeOfExp_160_3" id="typeOfExp_409_5" title="Defined at line 160"><span class="token sort_Id">typeOfExp</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_407_13" id="s_409_15" title="Defined at line 407"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#e2_407_23" id="e2_409_18" title="Defined at line 407"><span class="token sort_Id">e2</span></a></span><span class="operator">)</span> <span class="operator">==</span> <span class="cons_Op"><a href="#INT_125_5" id="INT_409_25" title="Defined at line 125"><span class="token sort_Id">INT</span></a><span class="operator">()</span></span><span class="operator">.</span>

  <a href="#typeOfExp_160_3" id="typeOfExp_411_3" title="Defined at line 160"><span class="token sort_Id">typeOfExp</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_412_15" id="s_411_13" title="Referenced at line 412, 413"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="cons_Op"><a href="../../src-gen/statix/signatures/Numbers-sig.stx/#Geq_26_5" id="Geq_411_16" title="Defined at ../../src-gen/statix/signatures/Numbers-sig.stx line 26"><span class="token sort_Id">Geq</span></a><span class="operator">(</span><span class="cons_Var"><a href="#e1_412_18" id="e1_411_20" title="Referenced at line 412"><span class="token sort_Id">e1</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#e2_413_18" id="e2_411_24" title="Referenced at line 413"><span class="token sort_Id">e2</span></a></span><span class="operator">)</span></span><span class="operator">)</span> <span class="operator">=</span> <span class="cons_Op"><a href="#INT_125_5" id="INT_411_31" title="Defined at line 125"><span class="token sort_Id">INT</span></a><span class="operator">()</span></span> <span class="operator">:-</span>
    <a href="#typeOfExp_160_3" id="typeOfExp_412_5" title="Defined at line 160"><span class="token sort_Id">typeOfExp</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_411_13" id="s_412_15" title="Defined at line 411"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#e1_411_20" id="e1_412_18" title="Defined at line 411"><span class="token sort_Id">e1</span></a></span><span class="operator">)</span> <span class="operator">==</span> <span class="cons_Op"><a href="#INT_125_5" id="INT_412_25" title="Defined at line 125"><span class="token sort_Id">INT</span></a><span class="operator">()</span></span><span class="operator">,</span>
    <a href="#typeOfExp_160_3" id="typeOfExp_413_5" title="Defined at line 160"><span class="token sort_Id">typeOfExp</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_411_13" id="s_413_15" title="Defined at line 411"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#e2_411_24" id="e2_413_18" title="Defined at line 411"><span class="token sort_Id">e2</span></a></span><span class="operator">)</span> <span class="operator">==</span> <span class="cons_Op"><a href="#INT_125_5" id="INT_413_25" title="Defined at line 125"><span class="token sort_Id">INT</span></a><span class="operator">()</span></span><span class="operator">.</span>

  <a href="#typeOfExp_160_3" id="typeOfExp_415_3" title="Defined at line 160"><span class="token sort_Id">typeOfExp</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_416_15" id="s_415_13" title="Referenced at line 416, 417"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="cons_Op"><a href="../../src-gen/statix/signatures/Numbers-sig.stx/#Leq_27_5" id="Leq_415_16" title="Defined at ../../src-gen/statix/signatures/Numbers-sig.stx line 27"><span class="token sort_Id">Leq</span></a><span class="operator">(</span><span class="cons_Var"><a href="#e1_416_18" id="e1_415_20" title="Referenced at line 416"><span class="token sort_Id">e1</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#e2_417_18" id="e2_415_24" title="Referenced at line 417"><span class="token sort_Id">e2</span></a></span><span class="operator">)</span></span><span class="operator">)</span> <span class="operator">=</span> <span class="cons_Op"><a href="#INT_125_5" id="INT_415_31" title="Defined at line 125"><span class="token sort_Id">INT</span></a><span class="operator">()</span></span> <span class="operator">:-</span>
    <a href="#typeOfExp_160_3" id="typeOfExp_416_5" title="Defined at line 160"><span class="token sort_Id">typeOfExp</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_415_13" id="s_416_15" title="Defined at line 415"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#e1_415_20" id="e1_416_18" title="Defined at line 415"><span class="token sort_Id">e1</span></a></span><span class="operator">)</span> <span class="operator">==</span> <span class="cons_Op"><a href="#INT_125_5" id="INT_416_25" title="Defined at line 125"><span class="token sort_Id">INT</span></a><span class="operator">()</span></span><span class="operator">,</span>
    <a href="#typeOfExp_160_3" id="typeOfExp_417_5" title="Defined at line 160"><span class="token sort_Id">typeOfExp</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_415_13" id="s_417_15" title="Defined at line 415"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#e2_415_24" id="e2_417_18" title="Defined at line 415"><span class="token sort_Id">e2</span></a></span><span class="operator">)</span> <span class="operator">==</span> <span class="cons_Op"><a href="#INT_125_5" id="INT_417_25" title="Defined at line 125"><span class="token sort_Id">INT</span></a><span class="operator">()</span></span><span class="operator">.</span>

  <a href="#typeOfExp_160_3" id="typeOfExp_419_3" title="Defined at line 160"><span class="token sort_Id">typeOfExp</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_420_15" id="s_419_13" title="Referenced at line 420, 421"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="cons_Op"><a href="../../src-gen/statix/signatures/Numbers-sig.stx/#Or_29_5" id="Or_419_16" title="Defined at ../../src-gen/statix/signatures/Numbers-sig.stx line 29"><span class="token sort_Id">Or</span></a><span class="operator">(</span><span class="cons_Var"><a href="#e1_420_18" id="e1_419_19" title="Referenced at line 420"><span class="token sort_Id">e1</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#e2_421_18" id="e2_419_23" title="Referenced at line 421"><span class="token sort_Id">e2</span></a></span><span class="operator">)</span></span><span class="operator">)</span> <span class="operator">=</span> <span class="cons_Op"><a href="#INT_125_5" id="INT_419_30" title="Defined at line 125"><span class="token sort_Id">INT</span></a><span class="operator">()</span></span> <span class="operator">:-</span>
    <a href="#typeOfExp_160_3" id="typeOfExp_420_5" title="Defined at line 160"><span class="token sort_Id">typeOfExp</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_419_13" id="s_420_15" title="Defined at line 419"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#e1_419_19" id="e1_420_18" title="Defined at line 419"><span class="token sort_Id">e1</span></a></span><span class="operator">)</span> <span class="operator">==</span> <span class="cons_Op"><a href="#INT_125_5" id="INT_420_25" title="Defined at line 125"><span class="token sort_Id">INT</span></a><span class="operator">()</span></span><span class="operator">,</span>
    <a href="#typeOfExp_160_3" id="typeOfExp_421_5" title="Defined at line 160"><span class="token sort_Id">typeOfExp</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_419_13" id="s_421_15" title="Defined at line 419"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#e2_419_23" id="e2_421_18" title="Defined at line 419"><span class="token sort_Id">e2</span></a></span><span class="operator">)</span> <span class="operator">==</span> <span class="cons_Op"><a href="#INT_125_5" id="INT_421_25" title="Defined at line 125"><span class="token sort_Id">INT</span></a><span class="operator">()</span></span><span class="operator">.</span>

  <a href="#typeOfExp_160_3" id="typeOfExp_423_3" title="Defined at line 160"><span class="token sort_Id">typeOfExp</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_424_15" id="s_423_13" title="Referenced at line 424, 425"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="cons_Op"><a href="../../src-gen/statix/signatures/Numbers-sig.stx/#And_28_5" id="And_423_16" title="Defined at ../../src-gen/statix/signatures/Numbers-sig.stx line 28"><span class="token sort_Id">And</span></a><span class="operator">(</span><span class="cons_Var"><a href="#e1_424_18" id="e1_423_20" title="Referenced at line 424"><span class="token sort_Id">e1</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#e2_425_18" id="e2_423_24" title="Referenced at line 425"><span class="token sort_Id">e2</span></a></span><span class="operator">)</span></span><span class="operator">)</span> <span class="operator">=</span> <span class="cons_Op"><a href="#INT_125_5" id="INT_423_31" title="Defined at line 125"><span class="token sort_Id">INT</span></a><span class="operator">()</span></span> <span class="operator">:-</span>
    <a href="#typeOfExp_160_3" id="typeOfExp_424_5" title="Defined at line 160"><span class="token sort_Id">typeOfExp</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_423_13" id="s_424_15" title="Defined at line 423"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#e1_423_20" id="e1_424_18" title="Defined at line 423"><span class="token sort_Id">e1</span></a></span><span class="operator">)</span> <span class="operator">==</span> <span class="cons_Op"><a href="#INT_125_5" id="INT_424_25" title="Defined at line 125"><span class="token sort_Id">INT</span></a><span class="operator">()</span></span><span class="operator">,</span>
    <a href="#typeOfExp_160_3" id="typeOfExp_425_5" title="Defined at line 160"><span class="token sort_Id">typeOfExp</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_423_13" id="s_425_15" title="Defined at line 423"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#e2_423_24" id="e2_425_18" title="Defined at line 423"><span class="token sort_Id">e2</span></a></span><span class="operator">)</span> <span class="operator">==</span> <span class="cons_Op"><a href="#INT_125_5" id="INT_425_25" title="Defined at line 125"><span class="token sort_Id">INT</span></a><span class="operator">()</span></span><span class="operator">.</span>

<span class="keyword">rules</span> <span class="layout">// record type</span>

  <a href="#typeOfType_222_3" id="typeOfType_429_3" title="Defined at line 222"><span class="token sort_Id">typeOfType</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_431_21" id="s_429_14" title="Referenced at line 431"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="cons_Op"><a href="../../src-gen/statix/signatures/Records-sig.stx/#RecordTy_19_5" id="RecordTy_429_17" title="Defined at ../../src-gen/statix/signatures/Records-sig.stx line 19"><span class="token sort_Id">RecordTy</span></a><span class="operator">(</span><span class="cons_Var"><a href="#fields_431_24" id="fields_429_26" title="Referenced at line 431"><span class="token sort_Id">fields</span></a></span><span class="operator">)</span></span><span class="operator">)</span> <span class="operator">=</span> <span class="cons_Op"><a href="#RECORD_128_5" id="RECORD_429_37" title="Defined at line 128"><span class="token sort_Id">RECORD</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_rec_430_9" id="s_rec_429_44" title="Referenced at line 430, 431"><span class="token sort_Id">s_rec</span></a></span><span class="operator">)</span></span> <span class="operator">:-</span>
    <span class="keyword">new</span> <span class="cons_Var"><a href="#s_rec_429_44" id="s_rec_430_9" title="Defined at line 429"><span class="token sort_Id">s_rec</span></a></span><span class="operator">,</span>
    <a href="#fieldsOk_434_3" id="fieldsOk_431_5" title="Defined at line 434"><span class="token sort_Id">fieldsOk</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_rec_429_44" id="s_rec_431_14" title="Defined at line 429"><span class="token sort_Id">s_rec</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#s_429_14" id="s_431_21" title="Defined at line 429"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#fields_429_26" id="fields_431_24" title="Defined at line 429"><span class="token sort_Id">fields</span></a></span><span class="operator">).</span>

  <a href="#fieldOk_434_17" id="fieldOk_433_3" title="Referenced at line 434, 436, 533"><span class="token sort_Id">fieldOk</span></a> <span class="operator">:</span> <span class="cons_ScopeSort"><span class="keyword">scope</span></span> <span class="operator">*</span> <span class="cons_ScopeSort"><span class="keyword">scope</span></span> <span class="operator">*</span> <span class="cons_SimpleSort"><a href="../../src-gen/statix/signatures/Records-sig.stx/#Field_9_5" id="Field_433_29" title="Defined at ../../src-gen/statix/signatures/Records-sig.stx line 9"><span class="token sort_Id">Field</span></a></span>
  <a href="#fieldsOk_431_5" id="fieldsOk_434_3" title="Referenced at line 431"><span class="token sort_Id">fieldsOk</span></a> <span class="keyword">maps</span> <a href="#fieldOk_433_3" id="fieldOk_434_17" title="Defined at line 433"><span class="token sort_Id">fieldOk</span></a><span class="operator">(*,</span> <span class="operator">*,</span> <span class="keyword">list</span><span class="operator">(*))</span>

  <a href="#fieldOk_433_3" id="fieldOk_436_3" title="Defined at line 433"><span class="token sort_Id">fieldOk</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_rec_438_18" id="s_rec_436_11" title="Referenced at line 438"><span class="token sort_Id">s_rec</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#s_outer_437_16" id="s_outer_436_18" title="Referenced at line 437"><span class="token sort_Id">s_outer</span></a></span><span class="operator">,</span> <span class="cons_Op"><a href="../../src-gen/statix/signatures/Records-sig.stx/#Field_20_5" id="Field_436_27" title="Defined at ../../src-gen/statix/signatures/Records-sig.stx line 20"><span class="token sort_Id">Field</span></a><span class="operator">(</span><span class="cons_Var"><a href="#x_438_25" id="x_436_33" title="Referenced at line 438"><span class="token sort_Id">x</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#t_437_29" id="t_436_36" title="Referenced at line 437"><span class="token sort_Id">t</span></a></span><span class="operator">)</span></span><span class="operator">)</span> <span class="operator">:-</span> <span class="operator">{</span><span class="cons_Var"><a href="#T_437_36" id="T_436_44" title="Referenced at line 437, 438"><span class="token sort_Id">T</span></a></span><span class="operator">}</span>
    <a href="#typeOfType_222_3" id="typeOfType_437_5" title="Defined at line 222"><span class="token sort_Id">typeOfType</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_outer_436_18" id="s_outer_437_16" title="Defined at line 436"><span class="token sort_Id">s_outer</span></a></span><span class="operator">,</span> <span class="cons_Op"><a href="../../src-gen/statix/signatures/Types-sig.stx/#Tid_16_5" id="Tid_437_25" title="Defined at ../../src-gen/statix/signatures/Types-sig.stx line 16"><span class="token sort_Id">Tid</span></a><span class="operator">(</span><span class="cons_Var"><a href="#t_436_36" id="t_437_29" title="Defined at line 436"><span class="token sort_Id">t</span></a></span><span class="operator">)</span></span><span class="operator">)</span> <span class="operator">==</span> <span class="cons_Var"><a href="#T_436_44" id="T_437_36" title="Defined at line 436"><span class="token sort_Id">T</span></a></span><span class="operator">,</span>
    <a href="#declareField_92_3" id="declareField_438_5" title="Defined at line 92"><span class="token sort_Id">declareField</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_rec_436_11" id="s_rec_438_18" title="Defined at line 436"><span class="token sort_Id">s_rec</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#x_436_33" id="x_438_25" title="Defined at line 436"><span class="token sort_Id">x</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#T_436_44" id="T_438_28" title="Defined at line 436"><span class="token sort_Id">T</span></a></span><span class="operator">).</span>

<span class="keyword">rules</span> <span class="layout">// literals</span>

  <a href="#typeOfExp_160_3" id="typeOfExp_442_3" title="Defined at line 160"><span class="token sort_Id">typeOfExp</span></a><span class="operator">(</span><span class="cons_Var"><span id="s_442_13" title="Not referenced"><span class="token sort_Id">s</span></span></span><span class="operator">,</span> <span class="cons_Op"><a href="../../src-gen/statix/signatures/Records-sig.stx/#NilExp_21_5" id="NilExp_442_16" title="Defined at ../../src-gen/statix/signatures/Records-sig.stx line 21"><span class="token sort_Id">NilExp</span></a><span class="operator">()</span></span><span class="operator">)</span> <span class="operator">=</span> <span class="cons_Op"><a href="#NIL_127_5" id="NIL_442_28" title="Defined at line 127"><span class="token sort_Id">NIL</span></a><span class="operator">()</span></span><span class="operator">.</span>

<span class="keyword">rules</span> <span class="layout">// record creation</span>

  <a href="#typeOfExp_160_3" id="typeOfExp_446_3" title="Defined at line 160"><span class="token sort_Id">typeOfExp</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_447_16" id="s_446_13" title="Referenced at line 447, 449"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="cons_Var"><span id="e_446_16" title="Not referenced"><span class="token sort_Id">e</span></span></span><span class="operator">@</span><span class="cons_Op"><a href="../../src-gen/statix/signatures/Records-sig.stx/#Record_22_5" id="Record_446_18" title="Defined at ../../src-gen/statix/signatures/Records-sig.stx line 22"><span class="token sort_Id">Record</span></a><span class="operator">(</span><span class="cons_Var"><a href="#t_447_23" id="t_446_25" title="Referenced at line 447, 452"><span class="token sort_Id">t</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#inits_449_31" id="inits_446_28" title="Referenced at line 449, 451"><span class="token sort_Id">inits</span></a></span><span class="operator">)</span></span><span class="operator">)</span> <span class="operator">=</span> <span class="cons_Op"><a href="#RECORD_128_5" id="RECORD_446_38" title="Defined at line 128"><span class="token sort_Id">RECORD</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_rec_447_37" id="s_rec_446_45" title="Referenced at line 447, 449, 450"><span class="token sort_Id">s_rec</span></a></span><span class="operator">)</span></span> <span class="operator">:-</span> <span class="operator">{</span><span class="cons_Var"><a href="#s_init_448_9" id="s_init_446_56" title="Referenced at line 448, 449, 452"><span class="token sort_Id">s_init</span></a></span> <span class="cons_Var"><a href="#ds_450_31" id="ds_446_63" title="Referenced at line 450, 451, 452"><span class="token sort_Id">ds</span></a></span><span class="operator">}</span>
    <a href="#typeOfType_222_3" id="typeOfType_447_5" title="Defined at line 222"><span class="token sort_Id">typeOfType</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_446_13" id="s_447_16" title="Defined at line 446"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="cons_Op"><a href="../../src-gen/statix/signatures/Types-sig.stx/#Tid_16_5" id="Tid_447_19" title="Defined at ../../src-gen/statix/signatures/Types-sig.stx line 16"><span class="token sort_Id">Tid</span></a><span class="operator">(</span><span class="cons_Var"><a href="#t_446_25" id="t_447_23" title="Defined at line 446"><span class="token sort_Id">t</span></a></span><span class="operator">)</span></span><span class="operator">)</span> <span class="operator">==</span> <span class="cons_Op"><a href="#RECORD_128_5" id="RECORD_447_30" title="Defined at line 128"><span class="token sort_Id">RECORD</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_rec_446_45" id="s_rec_447_37" title="Defined at line 446"><span class="token sort_Id">s_rec</span></a></span><span class="operator">)</span></span><span class="operator">,</span>
    <span class="keyword">new</span> <span class="cons_Var"><a href="#s_init_446_56" id="s_init_448_9" title="Defined at line 446"><span class="token sort_Id">s_init</span></a></span><span class="operator">,</span>
    <a href="#initsOk_462_3" id="initsOk_449_5" title="Defined at line 462"><span class="token sort_Id">initsOk</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_446_13" id="s_449_13" title="Defined at line 446"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#s_rec_446_45" id="s_rec_449_16" title="Defined at line 446"><span class="token sort_Id">s_rec</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#s_init_446_56" id="s_init_449_23" title="Defined at line 446"><span class="token sort_Id">s_init</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#inits_446_28" id="inits_449_31" title="Defined at line 446"><span class="token sort_Id">inits</span></a></span><span class="operator">),</span>
    <a href="#lookupAllFields_94_3" id="lookupAllFields_450_5" title="Defined at line 94"><span class="token sort_Id">lookupAllFields</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_rec_446_45" id="s_rec_450_21" title="Defined at line 446"><span class="token sort_Id">s_rec</span></a></span><span class="operator">)</span> <span class="operator">==</span> <span class="cons_Var"><a href="#ds_446_63" id="ds_450_31" title="Defined at line 446"><span class="token sort_Id">ds</span></a></span><span class="operator">,</span>
    <a href="#fieldsSameLength_455_3" id="fieldsSameLength_451_5" title="Defined at line 455"><span class="token sort_Id">fieldsSameLength</span></a><span class="operator">(</span><span class="cons_Var"><a href="#ds_446_63" id="ds_451_22" title="Defined at line 446"><span class="token sort_Id">ds</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#inits_446_28" id="inits_451_26" title="Defined at line 446"><span class="token sort_Id">inits</span></a></span><span class="operator">),</span>
    <a href="#allFieldsInitialized_471_3" id="allFieldsInitialized_452_5" title="Defined at line 471"><span class="token sort_Id">allFieldsInitialized</span></a><span class="operator">(</span><span class="cons_Var"><a href="#t_446_25" id="t_452_26" title="Defined at line 446"><span class="token sort_Id">t</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#ds_446_63" id="ds_452_29" title="Defined at line 446"><span class="token sort_Id">ds</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#s_init_446_56" id="s_init_452_33" title="Defined at line 446"><span class="token sort_Id">s_init</span></a></span><span class="operator">).</span>


  <a href="#fieldsSameLength_451_5" id="fieldsSameLength_455_3" title="Referenced at line 451, 456, 457"><span class="token sort_Id">fieldsSameLength</span></a> <span class="operator">:</span> <span class="keyword">list</span><span class="operator">((</span><span class="cons_PathSort"><span class="keyword">path</span></span> <span class="operator">*</span> <span class="operator">(</span><span class="cons_SimpleSort"><a href="../../src-gen/statix/signatures/Base-sig.stx/#ID_13_5" id="ID_455_36" title="Defined at ../../src-gen/statix/signatures/Base-sig.stx line 13"><span class="token sort_Id">ID</span></a></span> <span class="operator">*</span> <span class="cons_SimpleSort"><a href="#TYPE_122_9" id="TYPE_455_41" title="Defined at line 122"><span class="token sort_Id">TYPE</span></a></span><span class="operator">)))</span> <span class="operator">*</span> <span class="keyword">list</span><span class="operator">(</span><span class="cons_SimpleSort"><a href="../../src-gen/statix/signatures/Records-sig.stx/#InitField_10_5" id="InitField_455_56" title="Defined at ../../src-gen/statix/signatures/Records-sig.stx line 10"><span class="token sort_Id">InitField</span></a></span><span class="operator">)</span>
  <a href="#fieldsSameLength_455_3" id="fieldsSameLength_456_3" title="Defined at line 455"><span class="token sort_Id">fieldsSameLength</span></a><span class="operator">([],[]).</span>
  <a href="#fieldsSameLength_455_3" id="fieldsSameLength_457_3" title="Defined at line 455"><span class="token sort_Id">fieldsSameLength</span></a><span class="operator">([_|</span><span class="cons_Var"><a href="#xs_457_56" id="xs_457_23" title="Referenced at line 457"><span class="token sort_Id">xs</span></a></span><span class="operator">],</span> <span class="operator">[_|</span><span class="cons_Var"><a href="#ys_457_60" id="ys_457_31" title="Referenced at line 457"><span class="token sort_Id">ys</span></a></span><span class="operator">])</span> <span class="operator">:-</span> <a href="#fieldsSameLength_455_3" id="fieldsSameLength_457_39" title="Defined at line 455"><span class="token sort_Id">fieldsSameLength</span></a><span class="operator">(</span><span class="cons_Var"><a href="#xs_457_23" id="xs_457_56" title="Defined at line 457"><span class="token sort_Id">xs</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#ys_457_31" id="ys_457_60" title="Defined at line 457"><span class="token sort_Id">ys</span></a></span><span class="operator">).</span>



  <a href="#initOk_462_16" id="initOk_461_3" title="Referenced at line 462, 464, 519"><span class="token sort_Id">initOk</span></a> <span class="operator">:</span> <span class="cons_ScopeSort"><span class="keyword">scope</span></span> <span class="operator">*</span> <span class="cons_ScopeSort"><span class="keyword">scope</span></span> <span class="operator">*</span> <span class="cons_ScopeSort"><span class="keyword">scope</span></span> <span class="operator">*</span> <span class="cons_SimpleSort"><a href="../../src-gen/statix/signatures/Records-sig.stx/#InitField_10_5" id="InitField_461_36" title="Defined at ../../src-gen/statix/signatures/Records-sig.stx line 10"><span class="token sort_Id">InitField</span></a></span>
  <a href="#initsOk_449_5" id="initsOk_462_3" title="Referenced at line 449"><span class="token sort_Id">initsOk</span></a> <span class="keyword">maps</span> <a href="#initOk_461_3" id="initOk_462_16" title="Defined at line 461"><span class="token sort_Id">initOk</span></a><span class="operator">(*,</span> <span class="operator">*,</span> <span class="operator">*,</span> <span class="keyword">list</span><span class="operator">(*))</span>

  <a href="#initOk_461_3" id="initOk_464_3" title="Defined at line 461"><span class="token sort_Id">initOk</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_466_15" id="s_464_10" title="Referenced at line 466"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#s_rec_465_17" id="s_rec_464_13" title="Referenced at line 465"><span class="token sort_Id">s_rec</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#s_init_467_18" id="s_init_464_20" title="Referenced at line 467"><span class="token sort_Id">s_init</span></a></span><span class="operator">,</span> <span class="cons_Op"><a href="../../src-gen/statix/signatures/Records-sig.stx/#InitField_23_5" id="InitField_464_28" title="Defined at ../../src-gen/statix/signatures/Records-sig.stx line 23"><span class="token sort_Id">InitField</span></a><span class="operator">(</span><span class="cons_Var"><a href="#x_465_24" id="x_464_38" title="Referenced at line 465, 467"><span class="token sort_Id">x</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#e_466_18" id="e_464_41" title="Referenced at line 466"><span class="token sort_Id">e</span></a></span><span class="operator">)</span></span><span class="operator">)</span> <span class="operator">:-</span> <span class="operator">{</span><span class="cons_Var"><a href="#S_466_24" id="S_464_49" title="Referenced at line 466, 467, 468"><span class="token sort_Id">S</span></a></span> <span class="cons_Var"><a href="#T_465_30" id="T_464_51" title="Referenced at line 465, 468"><span class="token sort_Id">T</span></a></span><span class="operator">}</span>
    <a href="#typeOfField_95_3" id="typeOfField_465_5" title="Defined at line 95"><span class="token sort_Id">typeOfField</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_rec_464_13" id="s_rec_465_17" title="Defined at line 464"><span class="token sort_Id">s_rec</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#x_464_38" id="x_465_24" title="Defined at line 464"><span class="token sort_Id">x</span></a></span><span class="operator">)</span> <span class="operator">==</span> <span class="cons_Var"><a href="#T_464_51" id="T_465_30" title="Defined at line 464"><span class="token sort_Id">T</span></a></span><span class="operator">,</span>
    <a href="#typeOfExp_160_3" id="typeOfExp_466_5" title="Defined at line 160"><span class="token sort_Id">typeOfExp</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_464_10" id="s_466_15" title="Defined at line 464"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#e_464_41" id="e_466_18" title="Defined at line 464"><span class="token sort_Id">e</span></a></span><span class="operator">)</span> <span class="operator">==</span> <span class="cons_Var"><a href="#S_464_49" id="S_466_24" title="Defined at line 464"><span class="token sort_Id">S</span></a></span><span class="operator">,</span>
    <a href="#declareField_92_3" id="declareField_467_5" title="Defined at line 92"><span class="token sort_Id">declareField</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_init_464_20" id="s_init_467_18" title="Defined at line 464"><span class="token sort_Id">s_init</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#x_464_38" id="x_467_26" title="Defined at line 464"><span class="token sort_Id">x</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#S_464_49" id="S_467_29" title="Defined at line 464"><span class="token sort_Id">S</span></a></span><span class="operator">),</span>
    <a href="#subtype_132_7" id="subtype_468_5" title="Defined at line 132"><span class="token sort_Id">subtype</span></a><span class="operator">(</span><span class="cons_Var"><a href="#S_464_49" id="S_468_13" title="Defined at line 464"><span class="token sort_Id">S</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#T_464_51" id="T_468_16" title="Defined at line 464"><span class="token sort_Id">T</span></a></span><span class="operator">).</span>

  <a href="#fieldInitialized_471_29" id="fieldInitialized_470_3" title="Referenced at line 471, 473"><span class="token sort_Id">fieldInitialized</span></a> <span class="operator">:</span> <span class="cons_SimpleSort"><a href="../../src-gen/statix/signatures/Base-sig.stx/#ID_13_5" id="ID_470_22" title="Defined at ../../src-gen/statix/signatures/Base-sig.stx line 13"><span class="token sort_Id">ID</span></a></span> <span class="operator">*</span> <span class="operator">(</span><span class="cons_PathSort"><span class="keyword">path</span></span> <span class="operator">*</span> <span class="operator">(</span><span class="cons_SimpleSort"><a href="../../src-gen/statix/signatures/Base-sig.stx/#ID_13_5" id="ID_470_36" title="Defined at ../../src-gen/statix/signatures/Base-sig.stx line 13"><span class="token sort_Id">ID</span></a></span> <span class="operator">*</span> <span class="cons_SimpleSort"><a href="#TYPE_122_9" id="TYPE_470_41" title="Defined at line 122"><span class="token sort_Id">TYPE</span></a></span><span class="operator">))</span> <span class="operator">*</span> <span class="cons_ScopeSort"><span class="keyword">scope</span></span>
  <a href="#allFieldsInitialized_452_5" id="allFieldsInitialized_471_3" title="Referenced at line 452"><span class="token sort_Id">allFieldsInitialized</span></a> <span class="keyword">maps</span> <a href="#fieldInitialized_470_3" id="fieldInitialized_471_29" title="Defined at line 470"><span class="token sort_Id">fieldInitialized</span></a><span class="operator">(*,</span> <span class="keyword">list</span><span class="operator">(*),</span> <span class="operator">*)</span>

  <a href="#fieldInitialized_470_3" id="fieldInitialized_473_3" title="Defined at line 470"><span class="token sort_Id">fieldInitialized</span></a><span class="operator">(</span><span class="cons_Var"><span id="t_473_20" title="Not referenced"><span class="token sort_Id">t</span></span></span><span class="operator">,</span> <span class="operator">(_,</span> <span class="operator">(</span><span class="cons_Var"><a href="#x_474_20" id="x_473_28" title="Referenced at line 474"><span class="token sort_Id">x</span></a></span><span class="operator">,</span> <span class="operator">_)),</span> <span class="cons_Var"><a href="#s_474_17" id="s_473_36" title="Referenced at line 474"><span class="token sort_Id">s</span></a></span><span class="operator">)</span> <span class="operator">:-</span>
    <a href="#lookupField_93_3" id="lookupField_474_5" title="Defined at line 93"><span class="token sort_Id">lookupField</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_473_36" id="s_474_17" title="Defined at line 473"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#x_473_28" id="x_474_20" title="Defined at line 473"><span class="token sort_Id">x</span></a></span><span class="operator">)</span> <span class="operator">==</span> <span class="operator">[_].</span>
    <span class="layout">// t is passed such that error is displayed be on t;</span>
    <span class="layout">// noting that init of x is missing</span>

<span class="keyword">rules</span> <span class="layout">// record field access</span>

  <a href="#typeOfLVal_165_3" id="typeOfLVal_480_3" title="Defined at line 165"><span class="token sort_Id">typeOfLVal</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_481_16" id="s_480_14" title="Referenced at line 481"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="cons_Op"><a href="../../src-gen/statix/signatures/Records-sig.stx/#FieldVar_24_5" id="FieldVar_480_17" title="Defined at ../../src-gen/statix/signatures/Records-sig.stx line 24"><span class="token sort_Id">FieldVar</span></a><span class="operator">(</span><span class="cons_Var"><a href="#lval_481_19" id="lval_480_26" title="Referenced at line 481"><span class="token sort_Id">lval</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#x_482_24" id="x_480_32" title="Referenced at line 482"><span class="token sort_Id">x</span></a></span><span class="operator">)</span></span><span class="operator">)</span> <span class="operator">=</span> <span class="cons_Var"><a href="#T_482_30" id="T_480_38" title="Referenced at line 482"><span class="token sort_Id">T</span></a></span> <span class="operator">:-</span> <span class="operator">{</span><span class="cons_Var"><a href="#s_rec_481_35" id="s_rec_480_44" title="Referenced at line 481, 482"><span class="token sort_Id">s_rec</span></a></span><span class="operator">}</span>
    <a href="#typeOfLVal_165_3" id="typeOfLVal_481_5" title="Defined at line 165"><span class="token sort_Id">typeOfLVal</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_480_14" id="s_481_16" title="Defined at line 480"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#lval_480_26" id="lval_481_19" title="Defined at line 480"><span class="token sort_Id">lval</span></a></span><span class="operator">)</span> <span class="operator">==</span> <span class="cons_Op"><a href="#RECORD_128_5" id="RECORD_481_28" title="Defined at line 128"><span class="token sort_Id">RECORD</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_rec_480_44" id="s_rec_481_35" title="Defined at line 480"><span class="token sort_Id">s_rec</span></a></span><span class="operator">)</span></span><span class="operator">,</span>
    <a href="#typeOfField_95_3" id="typeOfField_482_5" title="Defined at line 95"><span class="token sort_Id">typeOfField</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_rec_480_44" id="s_rec_482_17" title="Defined at line 480"><span class="token sort_Id">s_rec</span></a></span><span class="operator">,</span> <span class="cons_Var"><a href="#x_480_32" id="x_482_24" title="Defined at line 480"><span class="token sort_Id">x</span></a></span><span class="operator">)</span> <span class="operator">==</span> <span class="cons_Var"><a href="#T_480_38" id="T_482_30" title="Defined at line 480"><span class="token sort_Id">T</span></a></span><span class="operator">.</span>

<span class="keyword">rules</span> <span class="layout">// literals</span>

  <a href="#typeOfExp_160_3" id="typeOfExp_486_3" title="Defined at line 160"><span class="token sort_Id">typeOfExp</span></a><span class="operator">(</span><span class="cons_Var"><span id="s_486_13" title="Not referenced"><span class="token sort_Id">s</span></span></span><span class="operator">,</span> <span class="cons_Op"><a href="../../src-gen/statix/signatures/Strings-sig.stx/#String_17_5" id="String_486_16" title="Defined at ../../src-gen/statix/signatures/Strings-sig.stx line 17"><span class="token sort_Id">String</span></a><span class="operator">(</span><span class="cons_Var"><a href="#v_487_6" id="v_486_23" title="Referenced at line 487"><span class="token sort_Id">v</span></a></span><span class="operator">)</span></span><span class="operator">)</span> <span class="operator">=</span> <span class="cons_Op"><a href="#STRING_126_5" id="STRING_486_29" title="Defined at line 126"><span class="token sort_Id">STRING</span></a><span class="operator">()</span></span> <span class="operator">:-</span>
    <span class="operator">@</span><span class="cons_Var"><a href="#v_486_23" id="v_487_6" title="Defined at line 486"><span class="token sort_Id">v</span></a></span><span class="operator">.</span>lit <span class="operator">:=</span> <span class="cons_Var"><a href="#v_486_23" id="v_487_15" title="Defined at line 486"><span class="token sort_Id">v</span></a></span><span class="operator">.</span>

<span class="keyword">rules</span>

  <a href="#init_11_12" id="init_491_3" title="Referenced at line 11, 493"><span class="token sort_Id">init</span></a> <span class="operator">:</span> <span class="cons_ScopeSort"><span class="keyword">scope</span></span>

  <a href="#init_491_3" id="init_493_3" title="Defined at line 491"><span class="token sort_Id">init</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_494_17" id="s_493_8" title="Referenced at line 494, 495, 497, 498, 499, 500, 501, 502, 503, 504, 505, 506, 507, 510, 511"><span class="token sort_Id">s</span></a></span><span class="operator">)</span> <span class="operator">:-</span>
    <a href="#declareType_73_3" id="declareType_494_5" title="Defined at line 73"><span class="token sort_Id">declareType</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_493_8" id="s_494_17" title="Defined at line 493"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="cons_Str"><span class="operator">"</span>int<span class="operator">"</span></span><span class="operator">,</span>    <span class="cons_Op"><a href="#INT_125_5" id="INT_494_30" title="Defined at line 125"><span class="token sort_Id">INT</span></a><span class="operator">()</span></span><span class="operator">),</span>
    <a href="#declareType_73_3" id="declareType_495_5" title="Defined at line 73"><span class="token sort_Id">declareType</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_493_8" id="s_495_17" title="Defined at line 493"><span class="token sort_Id">s</span></a></span><span class="operator">,</span> <span class="cons_Str"><span class="operator">"</span>string<span class="operator">"</span></span><span class="operator">,</span> <span class="cons_Op"><a href="#STRING_126_5" id="STRING_495_30" title="Defined at line 126"><span class="token sort_Id">STRING</span></a><span class="operator">()</span></span><span class="operator">),</span>

    <a href="#declareVar_49_3" id="declareVar_497_5" title="Defined at line 49"><span class="token sort_Id">declareVar</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_493_8" id="s_497_16" title="Defined at line 493"><span class="token sort_Id">s</span></a></span><span class="operator">,</span>  <span class="cons_Str"><span class="operator">"</span>print<span class="operator">"</span></span><span class="operator">,</span>     <span class="cons_Op"><a href="#FUN_130_5" id="FUN_497_33" title="Defined at line 130"><span class="token sort_Id">FUN</span></a><span class="operator">([</span><span class="cons_Op"><a href="#STRING_126_5" id="STRING_497_38" title="Defined at line 126"><span class="token sort_Id">STRING</span></a><span class="operator">()</span></span><span class="operator">],</span> <span class="cons_Op"><a href="#UNIT_124_5" id="UNIT_497_49" title="Defined at line 124"><span class="token sort_Id">UNIT</span></a><span class="operator">()</span></span><span class="operator">)</span></span><span class="operator">),</span>
    <a href="#declareVar_49_3" id="declareVar_498_5" title="Defined at line 49"><span class="token sort_Id">declareVar</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_493_8" id="s_498_16" title="Defined at line 493"><span class="token sort_Id">s</span></a></span><span class="operator">,</span>  <span class="cons_Str"><span class="operator">"</span>chr<span class="operator">"</span></span><span class="operator">,</span>       <span class="cons_Op"><a href="#FUN_130_5" id="FUN_498_33" title="Defined at line 130"><span class="token sort_Id">FUN</span></a><span class="operator">([</span><span class="cons_Op"><a href="#INT_125_5" id="INT_498_38" title="Defined at line 125"><span class="token sort_Id">INT</span></a><span class="operator">()</span></span><span class="operator">],</span> <span class="cons_Op"><a href="#STRING_126_5" id="STRING_498_46" title="Defined at line 126"><span class="token sort_Id">STRING</span></a><span class="operator">()</span></span><span class="operator">)</span></span><span class="operator">),</span>
    <a href="#declareVar_49_3" id="declareVar_499_5" title="Defined at line 49"><span class="token sort_Id">declareVar</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_493_8" id="s_499_16" title="Defined at line 493"><span class="token sort_Id">s</span></a></span><span class="operator">,</span>  <span class="cons_Str"><span class="operator">"</span>ord<span class="operator">"</span></span><span class="operator">,</span>       <span class="cons_Op"><a href="#FUN_130_5" id="FUN_499_33" title="Defined at line 130"><span class="token sort_Id">FUN</span></a><span class="operator">([</span><span class="cons_Op"><a href="#STRING_126_5" id="STRING_499_38" title="Defined at line 126"><span class="token sort_Id">STRING</span></a><span class="operator">()</span></span><span class="operator">],</span> <span class="cons_Op"><a href="#INT_125_5" id="INT_499_49" title="Defined at line 125"><span class="token sort_Id">INT</span></a><span class="operator">()</span></span><span class="operator">)</span></span><span class="operator">),</span>
    <a href="#declareVar_49_3" id="declareVar_500_5" title="Defined at line 49"><span class="token sort_Id">declareVar</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_493_8" id="s_500_16" title="Defined at line 493"><span class="token sort_Id">s</span></a></span><span class="operator">,</span>  <span class="cons_Str"><span class="operator">"</span>size<span class="operator">"</span></span><span class="operator">,</span>      <span class="cons_Op"><a href="#FUN_130_5" id="FUN_500_33" title="Defined at line 130"><span class="token sort_Id">FUN</span></a><span class="operator">([</span><span class="cons_Op"><a href="#STRING_126_5" id="STRING_500_38" title="Defined at line 126"><span class="token sort_Id">STRING</span></a><span class="operator">()</span></span><span class="operator">],</span> <span class="cons_Op"><a href="#INT_125_5" id="INT_500_49" title="Defined at line 125"><span class="token sort_Id">INT</span></a><span class="operator">()</span></span><span class="operator">)</span></span><span class="operator">),</span>
    <a href="#declareVar_49_3" id="declareVar_501_5" title="Defined at line 49"><span class="token sort_Id">declareVar</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_493_8" id="s_501_16" title="Defined at line 493"><span class="token sort_Id">s</span></a></span><span class="operator">,</span>  <span class="cons_Str"><span class="operator">"</span>substring<span class="operator">"</span></span><span class="operator">,</span> <span class="cons_Op"><a href="#FUN_130_5" id="FUN_501_33" title="Defined at line 130"><span class="token sort_Id">FUN</span></a><span class="operator">([</span><span class="cons_Op"><a href="#STRING_126_5" id="STRING_501_38" title="Defined at line 126"><span class="token sort_Id">STRING</span></a><span class="operator">()</span></span><span class="operator">,</span> <span class="cons_Op"><a href="#INT_125_5" id="INT_501_48" title="Defined at line 125"><span class="token sort_Id">INT</span></a><span class="operator">()</span></span><span class="operator">,</span> <span class="cons_Op"><a href="#INT_125_5" id="INT_501_55" title="Defined at line 125"><span class="token sort_Id">INT</span></a><span class="operator">()</span></span><span class="operator">],</span> <span class="cons_Op"><a href="#STRING_126_5" id="STRING_501_63" title="Defined at line 126"><span class="token sort_Id">STRING</span></a><span class="operator">()</span></span><span class="operator">)</span></span><span class="operator">),</span>
    <a href="#declareVar_49_3" id="declareVar_502_5" title="Defined at line 49"><span class="token sort_Id">declareVar</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_493_8" id="s_502_16" title="Defined at line 493"><span class="token sort_Id">s</span></a></span><span class="operator">,</span>  <span class="cons_Str"><span class="operator">"</span>concat<span class="operator">"</span></span><span class="operator">,</span>    <span class="cons_Op"><a href="#FUN_130_5" id="FUN_502_33" title="Defined at line 130"><span class="token sort_Id">FUN</span></a><span class="operator">([</span><span class="cons_Op"><a href="#STRING_126_5" id="STRING_502_38" title="Defined at line 126"><span class="token sort_Id">STRING</span></a><span class="operator">()</span></span><span class="operator">,</span> <span class="cons_Op"><a href="#STRING_126_5" id="STRING_502_48" title="Defined at line 126"><span class="token sort_Id">STRING</span></a><span class="operator">()</span></span><span class="operator">],</span> <span class="cons_Op"><a href="#STRING_126_5" id="STRING_502_59" title="Defined at line 126"><span class="token sort_Id">STRING</span></a><span class="operator">()</span></span><span class="operator">)</span></span><span class="operator">),</span>
    <a href="#declareVar_49_3" id="declareVar_503_5" title="Defined at line 49"><span class="token sort_Id">declareVar</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_493_8" id="s_503_16" title="Defined at line 493"><span class="token sort_Id">s</span></a></span><span class="operator">,</span>  <span class="cons_Str"><span class="operator">"</span>not<span class="operator">"</span></span><span class="operator">,</span>       <span class="cons_Op"><a href="#FUN_130_5" id="FUN_503_33" title="Defined at line 130"><span class="token sort_Id">FUN</span></a><span class="operator">([</span><span class="cons_Op"><a href="#INT_125_5" id="INT_503_38" title="Defined at line 125"><span class="token sort_Id">INT</span></a><span class="operator">()</span></span><span class="operator">],</span> <span class="cons_Op"><a href="#INT_125_5" id="INT_503_46" title="Defined at line 125"><span class="token sort_Id">INT</span></a><span class="operator">()</span></span><span class="operator">)</span></span><span class="operator">),</span>
    <a href="#declareVar_49_3" id="declareVar_504_5" title="Defined at line 49"><span class="token sort_Id">declareVar</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_493_8" id="s_504_16" title="Defined at line 493"><span class="token sort_Id">s</span></a></span><span class="operator">,</span>  <span class="cons_Str"><span class="operator">"</span>exit<span class="operator">"</span></span><span class="operator">,</span>      <span class="cons_Op"><a href="#FUN_130_5" id="FUN_504_33" title="Defined at line 130"><span class="token sort_Id">FUN</span></a><span class="operator">([</span><span class="cons_Op"><a href="#INT_125_5" id="INT_504_38" title="Defined at line 125"><span class="token sort_Id">INT</span></a><span class="operator">()</span></span><span class="operator">],</span> <span class="cons_Op"><a href="#UNIT_124_5" id="UNIT_504_46" title="Defined at line 124"><span class="token sort_Id">UNIT</span></a><span class="operator">()</span></span><span class="operator">)</span></span><span class="operator">),</span>
    <a href="#declareVar_49_3" id="declareVar_505_5" title="Defined at line 49"><span class="token sort_Id">declareVar</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_493_8" id="s_505_16" title="Defined at line 493"><span class="token sort_Id">s</span></a></span><span class="operator">,</span>  <span class="cons_Str"><span class="operator">"</span>getchar<span class="operator">"</span></span><span class="operator">,</span>   <span class="cons_Op"><a href="#FUN_130_5" id="FUN_505_33" title="Defined at line 130"><span class="token sort_Id">FUN</span></a><span class="operator">([],</span> <span class="cons_Op"><a href="#STRING_126_5" id="STRING_505_41" title="Defined at line 126"><span class="token sort_Id">STRING</span></a><span class="operator">()</span></span><span class="operator">)</span></span><span class="operator">),</span>
    <a href="#declareVar_49_3" id="declareVar_506_5" title="Defined at line 49"><span class="token sort_Id">declareVar</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_493_8" id="s_506_16" title="Defined at line 493"><span class="token sort_Id">s</span></a></span><span class="operator">,</span>  <span class="cons_Str"><span class="operator">"</span>flush<span class="operator">"</span></span><span class="operator">,</span>     <span class="cons_Op"><a href="#FUN_130_5" id="FUN_506_33" title="Defined at line 130"><span class="token sort_Id">FUN</span></a><span class="operator">([],</span> <span class="cons_Op"><a href="#UNIT_124_5" id="UNIT_506_41" title="Defined at line 124"><span class="token sort_Id">UNIT</span></a><span class="operator">()</span></span><span class="operator">)</span></span><span class="operator">),</span>
    <a href="#declareVar_49_3" id="declareVar_507_5" title="Defined at line 49"><span class="token sort_Id">declareVar</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_493_8" id="s_507_16" title="Defined at line 493"><span class="token sort_Id">s</span></a></span><span class="operator">,</span>  <span class="cons_Str"><span class="operator">"</span>printi<span class="operator">"</span></span><span class="operator">,</span>    <span class="cons_Op"><a href="#FUN_130_5" id="FUN_507_33" title="Defined at line 130"><span class="token sort_Id">FUN</span></a><span class="operator">([</span><span class="cons_Op"><a href="#INT_125_5" id="INT_507_38" title="Defined at line 125"><span class="token sort_Id">INT</span></a><span class="operator">()</span></span><span class="operator">],</span> <span class="cons_Op"><a href="#UNIT_124_5" id="UNIT_507_46" title="Defined at line 124"><span class="token sort_Id">UNIT</span></a><span class="operator">()</span></span><span class="operator">)</span></span><span class="operator">),</span>

    <span class="layout">// For benchmarks</span>
    <a href="#declareVar_49_3" id="declareVar_510_5" title="Defined at line 49"><span class="token sort_Id">declareVar</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_493_8" id="s_510_16" title="Defined at line 493"><span class="token sort_Id">s</span></a></span><span class="operator">,</span>  <span class="cons_Str"><span class="operator">"</span>timeGo<span class="operator">"</span></span><span class="operator">,</span>    <span class="cons_Op"><a href="#FUN_130_5" id="FUN_510_33" title="Defined at line 130"><span class="token sort_Id">FUN</span></a><span class="operator">([],</span> <span class="cons_Op"><a href="#UNIT_124_5" id="UNIT_510_41" title="Defined at line 124"><span class="token sort_Id">UNIT</span></a><span class="operator">()</span></span><span class="operator">)</span></span><span class="operator">),</span>
    <a href="#declareVar_49_3" id="declareVar_511_5" title="Defined at line 49"><span class="token sort_Id">declareVar</span></a><span class="operator">(</span><span class="cons_Var"><a href="#s_493_8" id="s_511_16" title="Defined at line 493"><span class="token sort_Id">s</span></a></span><span class="operator">,</span>  <span class="cons_Str"><span class="operator">"</span>timeStop<span class="operator">"</span></span><span class="operator">,</span>  <span class="cons_Op"><a href="#FUN_130_5" id="FUN_511_33" title="Defined at line 130"><span class="token sort_Id">FUN</span></a><span class="operator">([],</span> <span class="cons_Op"><a href="#UNIT_124_5" id="UNIT_511_41" title="Defined at line 124"><span class="token sort_Id">UNIT</span></a><span class="operator">()</span></span><span class="operator">)</span></span><span class="operator">).</span>



<span class="keyword">rules</span> <span class="layout">// placeholders</span>

  <a href="#programOk_8_3" id="programOk_517_3" title="Defined at line 8"><span class="token sort_Id">programOk</span></a><span class="operator">(</span><span class="cons_Op"><a href="../../src-gen/statix/signatures/Tiger-sig.stx/#Module-Plhdr_23_5" id="Module-Plhdr_517_13" title="Defined at ../../src-gen/statix/signatures/Tiger-sig.stx line 23"><span class="token sort_Id">Module-Plhdr</span></a><span class="operator">()</span></span><span class="operator">).</span>

  <a href="#initOk_461_3" id="initOk_519_3" title="Defined at line 461"><span class="token sort_Id">initOk</span></a><span class="operator">(_,</span> <span class="operator">_,</span> <span class="operator">_,</span> <span class="cons_Op"><a href="../../src-gen/statix/signatures/Records-sig.stx/#InitField-Plhdr_14_5" id="InitField-Plhdr_519_19" title="Defined at ../../src-gen/statix/signatures/Records-sig.stx line 14"><span class="token sort_Id">InitField-Plhdr</span></a><span class="operator">()</span></span><span class="operator">).</span>

  <span class="layout">//declareField(_, TypeId-Plhdr(), T).</span>

  <a href="#typeOfLVal_165_3" id="typeOfLVal_523_3" title="Defined at line 165"><span class="token sort_Id">typeOfLVal</span></a><span class="operator">(_,</span> <span class="cons_Op"><a href="../../src-gen/statix/signatures/Base-sig.stx/#LValue-Plhdr_18_5" id="LValue-Plhdr_523_17" title="Defined at ../../src-gen/statix/signatures/Base-sig.stx line 18"><span class="token sort_Id">LValue-Plhdr</span></a><span class="operator">()</span></span><span class="operator">)</span> <span class="operator">=</span> <span class="cons_Var"><span id="T_523_35" title="Not referenced"><span class="token sort_Id">T</span></span></span><span class="operator">.</span>

  <a href="#decOk_178_3" id="decOk_525_3" title="Defined at line 178"><span class="token sort_Id">decOk</span></a><span class="operator">(_,</span> <span class="operator">_,</span> <span class="cons_Op"><a href="../../src-gen/statix/signatures/Base-sig.stx/#Dec-Plhdr_16_5" id="Dec-Plhdr_525_15" title="Defined at ../../src-gen/statix/signatures/Base-sig.stx line 16"><span class="token sort_Id">Dec-Plhdr</span></a><span class="operator">()</span></span><span class="operator">).</span>

  <a href="#typeOfType_222_3" id="typeOfType_527_3" title="Defined at line 222"><span class="token sort_Id">typeOfType</span></a><span class="operator">(_,</span> <span class="cons_Op"><a href="../../src-gen/statix/signatures/Base-sig.stx/#Type-Plhdr_19_5" id="Type-Plhdr_527_17" title="Defined at ../../src-gen/statix/signatures/Base-sig.stx line 19"><span class="token sort_Id">Type-Plhdr</span></a><span class="operator">()</span></span><span class="operator">)</span> <span class="operator">=</span> <span class="cons_Var"><span id="T_527_33" title="Not referenced"><span class="token sort_Id">T</span></span></span><span class="operator">.</span>

  <a href="#typeOfArg_253_3" id="typeOfArg_529_3" title="Defined at line 253"><span class="token sort_Id">typeOfArg</span></a><span class="operator">(_,</span> <span class="operator">_,</span> <span class="cons_Op"><a href="../../src-gen/statix/signatures/Functions-sig.stx/#FArg-Plhdr_12_5" id="FArg-Plhdr_529_19" title="Defined at ../../src-gen/statix/signatures/Functions-sig.stx line 12"><span class="token sort_Id">FArg-Plhdr</span></a><span class="operator">()</span></span><span class="operator">)</span> <span class="operator">=</span> <span class="cons_Var"><span id="T_529_35" title="Not referenced"><span class="token sort_Id">T</span></span></span><span class="operator">.</span>

  <span class="layout">//fieldInitialized(TypeId-Plhdr(), _, _).</span>

  <a href="#fieldOk_433_3" id="fieldOk_533_3" title="Defined at line 433"><span class="token sort_Id">fieldOk</span></a><span class="operator">(_,</span> <span class="operator">_,</span> <span class="cons_Op"><a href="../../src-gen/statix/signatures/Records-sig.stx/#Field-Plhdr_13_5" id="Field-Plhdr_533_17" title="Defined at ../../src-gen/statix/signatures/Records-sig.stx line 13"><span class="token sort_Id">Field-Plhdr</span></a><span class="operator">()</span></span><span class="operator">).</span>

  <a href="#typeOfExp_160_3" id="typeOfExp_535_3" title="Defined at line 160"><span class="token sort_Id">typeOfExp</span></a><span class="operator">(_,</span> <span class="cons_Op"><a href="../../src-gen/statix/signatures/Base-sig.stx/#Exp-Plhdr_17_5" id="Exp-Plhdr_535_16" title="Defined at ../../src-gen/statix/signatures/Base-sig.stx line 17"><span class="token sort_Id">Exp-Plhdr</span></a><span class="operator">()</span></span><span class="operator">)</span> <span class="operator">=</span> <span class="cons_Var"><span id="T_535_31" title="Not referenced"><span class="token sort_Id">T</span></span></span><span class="operator">.</span>

</code></pre></td></tr></tbody></table></div>

<div id="modal">
  <div id="modal-content">
    <span id="modal-close">&times;</span>
    <h2 id="modal-h2"></h2>
    <p  id="modal-p"></p>
    <ul id="modal-ul"></ul>
  </div>
</div>
